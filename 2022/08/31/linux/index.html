<!DOCTYPE HTML>
<html lang="zh-CN">


<head>
    <meta charset="utf-8">
    <meta name="keywords" content="Linux, 爱哭的小河豚">
    <meta name="description" content="创建虚拟机






桥接网络：把本地主机当作网桥连接网络NAT：依赖于本地主机的网络









Linux文件和目录结构基本操作
/：根目录
~：用户的根目录
#：系统管理员显示是#
$：普通用户显示的$

[用户名@主机名 所">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
    <meta name="renderer" content="webkit|ie-stand|ie-comp">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="format-detection" content="telephone=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="referrer" content="no-referrer-when-downgrade">
    <!-- Global site tag (gtag.js) - Google Analytics -->


    <title>Linux | 爱哭的小河豚</title>
    <link rel="icon" type="image/png" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/favicon.png">
    


    <!-- bg-cover style     -->



<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/awesome/css/all.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/materialize/materialize.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/aos/aos.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/animate/animate.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/lightGallery/css/lightgallery.min.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/css/matery.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/css/my.css">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/css/dark.css" media="none" onload="if(media!='all')media='all'">




    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/tocbot/tocbot.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/css/post.css">




    
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/css/reward.css">
    



    <script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/jquery/jquery-3.6.0.min.js"></script>

<meta name="generator" content="Hexo 6.3.0">
<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="爱哭的小河豚" type="application/atom+xml">
</head>


<body>
    <header class="navbar-fixed">
    <nav id="headNav" class="bg-color nav-transparent">
        <div id="navContainer" class="nav-wrapper container">
            <div class="brand-logo">
                <a href="/" class="waves-effect waves-light">
                    
                    <img src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/medias/logo.png" class="logo-img" alt="LOGO">
                    
                    <span class="logo-span">爱哭的小河豚</span>
                </a>
            </div>
            

<a href="#" data-target="mobile-nav" class="sidenav-trigger button-collapse"><i class="fas fa-bars"></i></a>
<ul class="right nav-menu">
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/" class="waves-effect waves-light">
      
      <i class="fas fa-home" style="zoom: 0.6;"></i>
      
      <span>首页</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/tags" class="waves-effect waves-light">
      
      <i class="fas fa-tags" style="zoom: 0.6;"></i>
      
      <span>标签</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/categories" class="waves-effect waves-light">
      
      <i class="fas fa-bookmark" style="zoom: 0.6;"></i>
      
      <span>分类</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/archives" class="waves-effect waves-light">
      
      <i class="fas fa-archive" style="zoom: 0.6;"></i>
      
      <span>归档</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/about" class="waves-effect waves-light">
      
      <i class="fas fa-user-circle" style="zoom: 0.6;"></i>
      
      <span>关于</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/contact" class="waves-effect waves-light">
      
      <i class="fas fa-comments" style="zoom: 0.6;"></i>
      
      <span>留言板</span>
    </a>
    
  </li>
  
  <li class="hide-on-med-and-down nav-item">
    
    <a href="/friends" class="waves-effect waves-light">
      
      <i class="fas fa-address-book" style="zoom: 0.6;"></i>
      
      <span>友情链接</span>
    </a>
    
  </li>
  
  <li>
    <a href="#searchModal" class="modal-trigger waves-effect waves-light">
      <i id="searchIcon" class="fas fa-search" title="搜索" style="zoom: 0.85;"></i>
    </a>
  </li>
  <li>
    <a href="javascript:;" class="waves-effect waves-light" onclick="switchNightMode()" title="深色/浅色模式" >
      <i id="sum-moon-icon" class="fas fa-sun" style="zoom: 0.85;"></i>
    </a>
  </li>
</ul>


<div id="mobile-nav" class="side-nav sidenav">

    <div class="mobile-head bg-color">
        
        <img src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/medias/logo.png" class="logo-img circle responsive-img">
        
        <div class="logo-name">爱哭的小河豚</div>
        <div class="logo-desc">
            
            谁会不喜欢一只爱哭，生气又圆鼓鼓的小河豚呢？
            
        </div>
    </div>

    <ul class="menu-list mobile-menu-list">
        
        <li class="m-nav-item">
	  
		<a href="/" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-home"></i>
			
			首页
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/tags" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-tags"></i>
			
			标签
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/categories" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-bookmark"></i>
			
			分类
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/archives" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-archive"></i>
			
			归档
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/about" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-user-circle"></i>
			
			关于
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/contact" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-comments"></i>
			
			留言板
		</a>
          
        </li>
        
        <li class="m-nav-item">
	  
		<a href="/friends" class="waves-effect waves-light">
			
			    <i class="fa-fw fas fa-address-book"></i>
			
			友情链接
		</a>
          
        </li>
        
        
        <li><div class="divider"></div></li>
        <li>
            <a href="https://github.com/blinkfox/hexo-theme-matery" class="waves-effect waves-light" target="_blank">
                <i class="fab fa-github-square fa-fw"></i>Fork Me
            </a>
        </li>
        
    </ul>
</div>


        </div>

        
            <style>
    .nav-transparent .github-corner {
        display: none !important;
    }

    .github-corner {
        position: absolute;
        z-index: 10;
        top: 0;
        right: 0;
        border: 0;
        transform: scale(1.1);
    }

    .github-corner svg {
        color: #0f9d58;
        fill: #fff;
        height: 64px;
        width: 64px;
    }

    .github-corner:hover .octo-arm {
        animation: a 0.56s ease-in-out;
    }

    .github-corner .octo-arm {
        animation: none;
    }

    @keyframes a {
        0%,
        to {
            transform: rotate(0);
        }
        20%,
        60% {
            transform: rotate(-25deg);
        }
        40%,
        80% {
            transform: rotate(10deg);
        }
    }
</style>

<a href="https://github.com/blinkfox/hexo-theme-matery" class="github-corner tooltipped hide-on-med-and-down" target="_blank"
   data-tooltip="Fork Me" data-position="left" data-delay="50">
    <svg viewBox="0 0 250 250" aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor" class="octo-body"></path>
    </svg>
</a>
        
    </nav>

</header>

    



<div class="bg-cover pd-header post-cover" style="background-image: url('https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/medias/featureimages/12.jpg')">
    <div class="container" style="right: 0px;left: 0px;">
        <div class="row">
            <div class="col s12 m12 l12">
                <div class="brand">
                    <h1 class="description center-align post-title">Linux</h1>
                </div>
            </div>
        </div>
    </div>
</div>




<main class="post-container content">

    
    <div class="row">
    <div id="main-content" class="col s12 m12 l9">
        <!-- 文章内容详情 -->
<div id="artDetail">
    <div class="card">
        <div class="card-content article-info">
            <div class="row tag-cate">
                <div class="col s7">
                    
                    <div class="article-tag">
                        
                            <a href="/tags/Linux/">
                                <span class="chip bg-color">Linux</span>
                            </a>
                        
                    </div>
                    
                </div>
                <div class="col s5 right-align">
                    
                    <div class="post-cate">
                        <i class="fas fa-bookmark fa-fw icon-category"></i>
                        
                            <a href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" class="post-category">
                                操作系统
                            </a>
                        
                    </div>
                    
                </div>
            </div>

            <div class="post-info">
                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-minus fa-fw"></i>发布日期:&nbsp;&nbsp;
                    2022-08-31
                </div>
                

                
                <div class="post-date info-break-policy">
                    <i class="far fa-calendar-check fa-fw"></i>更新日期:&nbsp;&nbsp;
                    2022-11-08
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-file-word fa-fw"></i>文章字数:&nbsp;&nbsp;
                    21.7k
                </div>
                

                
                <div class="info-break-policy">
                    <i class="far fa-clock fa-fw"></i>阅读时长:&nbsp;&nbsp;
                    98 分
                </div>
                

                
                    <div id="busuanzi_container_page_pv" class="info-break-policy">
                        <i class="far fa-eye fa-fw"></i>阅读次数:&nbsp;&nbsp;
                        <span id="busuanzi_value_page_pv"></span>
                    </div>
				
            </div>
        </div>
        <hr class="clearfix">

        
        <!-- 是否加载使用自带的 prismjs. -->
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/prism/prism.min.css">
        

        
        <!-- 代码块折行 -->
        <style type="text/css">
            code[class*="language-"], pre[class*="language-"] { white-space: pre-wrap !important; }
        </style>
        

        <div class="card-content article-card-content">
            <div id="articleContent">
                <h1 id="创建虚拟机"><a href="#创建虚拟机" class="headerlink" title="创建虚拟机"></a>创建虚拟机</h1><img src="/2022/08/31/linux/image-20220829192432024.png" alt="image-20220829192432024" style="zoom: 67%;">

<img src="/2022/08/31/linux/image-20220829192719569.png" alt="image-20220829192719569" style="zoom: 67%;">

<img src="/2022/08/31/linux/image-20220829192911354.png" alt="image-20220829192911354" style="zoom: 67%;">

<blockquote>
<p>桥接网络：把本地主机当作网桥连接网络<br>NAT：依赖于本地主机的网络</p>
</blockquote>
<img src="/2022/08/31/linux/image-20220829193922114.png" alt="image-20220829193922114" style="zoom:67%;">

<img src="/2022/08/31/linux/image-20220829194936080.png" alt="image-20220829194936080" style="zoom:67%;">

<img src="/2022/08/31/linux/image-20220829195049592.png" alt="image-20220829195049592" style="zoom:67%;">

<img src="/2022/08/31/linux/image-20220829195208280.png" alt="image-20220829195208280" style="zoom:67%;">

<h1 id="Linux文件和目录结构"><a href="#Linux文件和目录结构" class="headerlink" title="Linux文件和目录结构"></a>Linux文件和目录结构</h1><h2 id="基本操作"><a href="#基本操作" class="headerlink" title="基本操作"></a>基本操作</h2><blockquote>
<p>/：根目录</p>
<p>~：用户的根目录</p>
<p>#：系统管理员显示是#</p>
<p>$：普通用户显示的$</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>用户名@主机名 所在位置<span class="token punctuation">]</span><span class="token comment">#</span>
<span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment">#   </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h2 id="目录结构"><a href="#目录结构" class="headerlink" title="目录结构"></a>目录结构</h2><blockquote>
<ul>
<li>在linux中是没有盘符的</li>
<li>/ 为根目录，类似windows中的 我的计算机</li>
</ul>
</blockquote>
<p><img src="/2022/08/31/linux/image-20220830141440542.png" alt="image-20220830141440542"></p>
<blockquote>
<ul>
<li><p>/bin：<br>bin 是 Binaries (二进制文件) 的缩写, 这个目录存放着最经常使用的命令。</p>
</li>
<li><p>/boot：<br>这里存放的是启动 Linux 时使用的一些核心文件，包括一些连接文件以及镜像文件。</p>
</li>
<li><p>/dev ：<br>dev 是 Device(设备) 的缩写, 该目录下存放的是 Linux 的外部设备，在 Linux 中访问设备的方式和访问文件的方式是相同的。</p>
</li>
<li><p><strong>/etc：</strong><br>etc 是 Etcetera(等等) 的缩写,这个目录用来<strong>存放所有的系统管理所需要的配置文件和子目录</strong>。</p>
</li>
<li><p><strong>/home</strong>：<br><strong>用户的主目录，在 Linux 中，每个用户都有一个自己的目录</strong>，一般该目录名是以用户的账号命名的，如上图中的 alice、bob 和 eve。</p>
</li>
<li><p>/lib：<br>lib 是 Library(库) 的缩写这个目录里存放着系统最基本的动态连接共享库，其作用类似于 Windows 里的 DLL 文件。几乎所有的应用程序都需要用到这些共享库。</p>
</li>
<li><p>/lost+found：<br>这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。</p>
</li>
<li><p>/media：<br>linux 系统会自动识别一些设备，例如U盘、光驱等等，当识别后，Linux 会把识别的设备挂载到这个目录下。</p>
</li>
<li><p>/mnt：<br>系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将光驱挂载在 /mnt/ 上，然后进入该目录就可以查看光驱里的内容了。</p>
</li>
<li><p><strong>/opt</strong>：<br>opt 是 optional(可选) 的缩写，<strong>这是给主机额外安装软件所摆放的目录</strong>。比如你安装一个ORACLE数据库则就可以放到这个目录下。默认是空的。</p>
</li>
<li><p>/proc：<br>proc 是 Processes(进程) 的缩写，/proc 是一种伪文件系统（也即虚拟文件系统），存储的是当前内核运行状态的一系列特殊文件，这个目录是一个虚拟的目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。<br>这个目录的内容不在硬盘上而是在内存里，我们也可以直接修改里面的某些文件，比如可以通过下面的命令来屏蔽主机的ping命令，使别人无法ping你的机器：</p>
<pre class="line-numbers language-none"><code class="language-none">echo 1 &gt; /proc/sys/net/ipv4/icmp_echo_ignore_all<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</li>
<li><p><strong>/root</strong>：<br><strong>该目录为系统管理员，也称作超级权限者的用户主目录。</strong></p>
</li>
<li><p>/sbin：<br>s 就是 Super User 的意思，是 Superuser Binaries (超级用户的二进制文件) 的缩写，这里存放的是系统管理员使用的系统管理程序。</p>
</li>
<li><p>/selinux：<br> 这个目录是 Redhat/CentOS 所特有的目录，Selinux 是一个安全机制，类似于 windows 的防火墙，但是这套机制比较复杂，这个目录就是存放selinux相关的文件的。</p>
</li>
<li><p>/srv：<br> 该目录存放一些服务启动之后需要提取的数据。</p>
</li>
<li><p>/sys：</p>
<p>这是 Linux2.6 内核的一个很大的变化。该目录下安装了 2.6 内核中新出现的一个文件系统 sysfs 。</p>
<p>sysfs 文件系统集成了下面3种文件系统的信息：针对进程信息的 proc 文件系统、针对设备的 devfs 文件系统以及针对伪终端的 devpts 文件系统。</p>
<p>该文件系统是内核设备树的一个直观反映。</p>
<p>当一个内核对象被创建的时候，对应的文件和目录也在内核对象子系统中被创建。</p>
</li>
<li><p>/tmp：<br>tmp 是 temporary(临时) 的缩写这个目录是用来存放一些临时文件的。</p>
</li>
<li><p><strong>/usr</strong>：<br> usr 是 unix shared resources(共享资源) 的缩写，这是一个非常重要的目录，<strong>用户的很多应用程序和文件都放在这个目录下</strong>，类似于 windows 下的 program files 目录。</p>
</li>
<li><p>/usr/bin：<br>系统用户使用的应用程序。</p>
</li>
<li><p>/usr/sbin：<br>超级用户使用的比较高级的管理程序和系统守护程序。</p>
</li>
<li><p>/usr/src：<br>内核源代码默认的放置目录。</p>
</li>
<li><p><strong>/var</strong>：<br>var 是 variable(变量) 的缩写，这个目录中存放着在不断扩充着的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。</p>
</li>
<li><p>/run：<br>是一个临时文件系统，存储系统启动以来的信息。当系统重启时，这个目录下的文件应该被删掉或清除。如果你的系统上有 /var/run 目录，应该让它指向 run。</p>
</li>
</ul>
</blockquote>
<h3 id="挂载点"><a href="#挂载点" class="headerlink" title="挂载点"></a>挂载点</h3><p><img src="/2022/08/31/linux/IRH%60Z%60NKA%5DB1$K_%5DEOP_9NH.png"></p>
<h1 id="VI-x2F-VIM编辑器（重点）"><a href="#VI-x2F-VIM编辑器（重点）" class="headerlink" title="VI/VIM编辑器（重点）"></a>VI/VIM编辑器（重点）</h1><h2 id="中文输入法"><a href="#中文输入法" class="headerlink" title="中文输入法"></a>中文输入法</h2><blockquote>
<ul>
<li>在区域和语言中添加输入法</li>
<li>输入法切换Super(win)+space</li>
</ul>
</blockquote>
<p><img src="/2022/08/31/linux/image-20220830143630541.png" alt="image-20220830143630541"></p>
<h2 id="模式及模式间转换"><a href="#模式及模式间转换" class="headerlink" title="模式及模式间转换"></a>模式及模式间转换</h2><p><img src="/2022/08/31/linux/image-20220830151057561.png" alt="image-20220830151057561"></p>
<h3 id="一般模式"><a href="#一般模式" class="headerlink" title="一般模式"></a>一般模式</h3><table>
<thead>
<tr>
<th>语法</th>
<th>功能介绍</th>
</tr>
</thead>
<tbody><tr>
<td>yy</td>
<td>复制光标当前一行</td>
</tr>
<tr>
<td>y数字y</td>
<td>复制一段（从第几行到第几行）</td>
</tr>
<tr>
<td>yw</td>
<td>复制一个词</td>
</tr>
<tr>
<td>p</td>
<td>箭头移动到目的行粘贴</td>
</tr>
<tr>
<td>u</td>
<td>撤销上一步</td>
</tr>
<tr>
<td>dd</td>
<td>删除光标当前行</td>
</tr>
<tr>
<td>d数字d</td>
<td>删除光标（含）后多少行</td>
</tr>
<tr>
<td>dw</td>
<td>删除一个词</td>
</tr>
<tr>
<td>x（小写）</td>
<td>删除一个字母，相当于del，向后删</td>
</tr>
<tr>
<td>X（大写）</td>
<td>删除一个字母，相当于Backspace，向前删</td>
</tr>
<tr>
<td>r</td>
<td>替换一个字符</td>
</tr>
<tr>
<td>R</td>
<td>替换多个字符</td>
</tr>
<tr>
<td>^（shift+6）</td>
<td>移动到行头</td>
</tr>
<tr>
<td>$（shift+4）</td>
<td>移动到行尾</td>
</tr>
<tr>
<td>gg或者H</td>
<td>移动到页头</td>
</tr>
<tr>
<td>G或者L</td>
<td>移动到页尾</td>
</tr>
<tr>
<td>数字+G（先输入数字，在按G）</td>
<td>移动到目标行</td>
</tr>
</tbody></table>
<p><img src="/2022/08/31/linux/image-20220830154857221.png" alt="image-20220830154857221"></p>
<h3 id="编辑模式"><a href="#编辑模式" class="headerlink" title="编辑模式"></a>编辑模式</h3><table>
<thead>
<tr>
<th>按键</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>i</td>
<td>当前光标前</td>
</tr>
<tr>
<td>a</td>
<td>当前光标后</td>
</tr>
<tr>
<td>o</td>
<td>当前光标行的下一行</td>
</tr>
<tr>
<td>I</td>
<td>光标所在行最前</td>
</tr>
<tr>
<td>A</td>
<td>光标所在行最后</td>
</tr>
<tr>
<td>O</td>
<td>当前光标行的上一行</td>
</tr>
</tbody></table>
<h3 id="命令模式"><a href="#命令模式" class="headerlink" title="命令模式"></a>命令模式</h3><table>
<thead>
<tr>
<th>命令</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>:w</td>
<td>保存</td>
</tr>
<tr>
<td>:q</td>
<td>退出</td>
</tr>
<tr>
<td>:!</td>
<td>强制执行</td>
</tr>
<tr>
<td>:set nu</td>
<td>显示行号</td>
</tr>
<tr>
<td>:set nonu</td>
<td>关闭行号</td>
</tr>
<tr>
<td>/要查找的词</td>
<td>n 查找下一个，N 往上查找</td>
</tr>
<tr>
<td>:noh</td>
<td>取消高亮显示</td>
</tr>
<tr>
<td>:s/old/new</td>
<td>替换当前行匹配到的第一个内容</td>
</tr>
<tr>
<td>:s/old/new/g</td>
<td>替换当前行匹配到的所有内容</td>
</tr>
<tr>
<td>:%s/old/new</td>
<td>替换所有行匹配到的第一个内容</td>
</tr>
<tr>
<td>:%s/old/new/g</td>
<td>替换匹配到的所有内容</td>
</tr>
</tbody></table>
<h1 id="网络配置（重点）"><a href="#网络配置（重点）" class="headerlink" title="网络配置（重点）"></a>网络配置（重点）</h1><h2 id="VMware提供的连接模式"><a href="#VMware提供的连接模式" class="headerlink" title="VMware提供的连接模式"></a>VMware提供的连接模式</h2><blockquote>
<ul>
<li><p>桥接模式</p>
<p><strong>虚拟机直接连接外部物理网络的模式，主机起到了网桥的作用。</strong>这种模式下，<strong>虚拟机可以直接访问外部网络，并且对外部网络是可见的。</strong></p>
</li>
<li><p>NAT模式</p>
<p>虚拟机和主机构建一个专用网络，并通过虚拟网络地址转换(NAT）设备对IP进行转换。<strong>虚拟机通过共享主机IP可以访问外部网络，但外部网络无法访问虚拟机。</strong></p>
</li>
<li><p>仅主机模式<br> 虚拟机只与主机共享一个专用网络，与外部网络无法通信。</p>
</li>
</ul>
</blockquote>
<h2 id="查看网络IP和网关"><a href="#查看网络IP和网关" class="headerlink" title="查看网络IP和网关"></a>查看网络IP和网关</h2><blockquote>
<ul>
<li><strong>windows获取ip地址命令<code>ipconfig</code>，linux获取ip地址命令<code>ifconfig</code></strong></li>
<li><strong>在同一个局域网内，在一个网段内可以ping通</strong></li>
<li>使用网桥连接，主机和虚拟机在同一个网段</li>
<li>使用NAT连接，主机和虚拟机也可以ping通</li>
</ul>
</blockquote>
<h3 id="NAT模式"><a href="#NAT模式" class="headerlink" title="NAT模式"></a>NAT模式</h3><blockquote>
<p>虚拟机的子网ip、网关</p>
</blockquote>
<p><img src="/2022/08/31/linux/image-20220902094856658.png" alt="image-20220902094856658"></p>
<blockquote>
<p>给虚拟机分配的ip地址在DHCP的范围中</p>
</blockquote>
<p><img src="/2022/08/31/linux/image-20220902095532405.png" alt="image-20220902095532405"></p>
<p><img src="/2022/08/31/linux/image-20220902100232945.png" alt="image-20220902100232945"></p>
<blockquote>
<p>主机会创建一个虚拟网卡，虚拟网卡的字段和虚拟机的ip、网关、ip子网网段是相同的</p>
<p>判断网段是否相同，使用ip和子网掩码进行AND运算，网络标识相同的在同一个网段，任何数与255进行AND运算都是本身</p>
</blockquote>
<p><img src="/2022/08/31/linux/image-20220902095854671.png" alt="image-20220902095854671"></p>
<h2 id="修改IP地址"><a href="#修改IP地址" class="headerlink" title="修改IP地址"></a>修改IP地址</h2><blockquote>
<ul>
<li><p>主机和虚拟机可以互通了，为啥还要修改ip地址？</p>
<p>因为虚拟机的ip是在DHCP范围中分配的，可能每次重启虚拟机，虚拟机的ip地址会改变，我们把虚拟机ip地址改成静态ip之后虚拟机的ip地址就不会再变了</p>
</li>
</ul>
</blockquote>
<h3 id="修改配置文件"><a href="#修改配置文件" class="headerlink" title="修改配置文件"></a>修改配置文件</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/sysconfig/network-scripts/ifcfg-ens33</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">TYPE</span><span class="token operator">=</span><span class="token string">"Ethernet"</span>

<span class="token comment"># 修改为 静态</span>
<span class="token assign-left variable">BOOTPROTO</span><span class="token operator">=</span><span class="token string">"static"</span>

<span class="token assign-left variable">DEFROUTE</span><span class="token operator">=</span><span class="token string">"yes"</span>
<span class="token assign-left variable">PEERDNS</span><span class="token operator">=</span><span class="token string">"yes"</span>
<span class="token assign-left variable">PEERROUTES</span><span class="token operator">=</span><span class="token string">"yes"</span>
<span class="token assign-left variable">IPV4_FAILURE_FATAL</span><span class="token operator">=</span><span class="token string">"no"</span>
<span class="token assign-left variable">IPV6INIT</span><span class="token operator">=</span><span class="token string">"yes"</span>
<span class="token assign-left variable">IPV6_AUTOCONF</span><span class="token operator">=</span><span class="token string">"yes"</span>
<span class="token assign-left variable">IPV6_DEFROUTE</span><span class="token operator">=</span><span class="token string">"yes"</span>
<span class="token assign-left variable">IPV6_PEERDNS</span><span class="token operator">=</span><span class="token string">"yes"</span>
<span class="token assign-left variable">IPV6_PEERROUTES</span><span class="token operator">=</span><span class="token string">"yes"</span>
<span class="token assign-left variable">IPV6_FAILURE_FATAL</span><span class="token operator">=</span><span class="token string">"no"</span>
<span class="token assign-left variable">IPV6_ADDR_GEN_MODE</span><span class="token operator">=</span><span class="token string">"stable-privacy"</span>
<span class="token assign-left variable">NAME</span><span class="token operator">=</span><span class="token string">"ens33"</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span><span class="token string">"8a929ea8-5a5c-4bdc-8865-321f14e11831"</span>
<span class="token assign-left variable">DEVICE</span><span class="token operator">=</span><span class="token string">"ens33"</span>
<span class="token assign-left variable">ONBOOT</span><span class="token operator">=</span><span class="token string">"yes"</span>

<span class="token comment">#IP 地址</span>
<span class="token assign-left variable">IPADDR</span><span class="token operator">=</span><span class="token number">192.168</span>.221.88
<span class="token comment">#网关</span>
<span class="token assign-left variable">GATEWAY</span><span class="token operator">=</span><span class="token number">192.168</span>.221.2
<span class="token comment">#域名解析器</span>
<span class="token assign-left variable">DNS1</span><span class="token operator">=</span><span class="token number">192.168</span>.221.2<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="重启网络服务器-两种方式"><a href="#重启网络服务器-两种方式" class="headerlink" title="重启网络服务器(两种方式)"></a>重启网络服务器(两种方式)</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># service network restart</span>
<span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># systemctl restart network</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<p><img src="/2022/08/31/linux/image-20220902104424444.png" alt="image-20220902104424444"></p>
<h2 id="配置主机名"><a href="#配置主机名" class="headerlink" title="配置主机名"></a>配置主机名</h2><h3 id="修改主机名"><a href="#修改主机名" class="headerlink" title="修改主机名"></a>修改主机名</h3><blockquote>
<p>查看主机名(两种方式)</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># hostname</span>
<span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># hostnamectl</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<blockquote>
<p>修改主机名(两种方式)</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># hostnamectl set-hostname 修改成的主机名</span>
<span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/hostname        修改完重启service network start</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<blockquote>
<p>实例</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># hostname</span>
lz
<span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># hostnamectl</span>
   Static hostname: lz
         Icon name: computer-vm
           Chassis: vm
        Machine ID: 23e43e0a6637449a9ca481e126f76b54
           Boot ID: 8947a762419e4e728e7ad1206e50f666
    Virtualization: vmware
  Operating System: CentOS Linux <span class="token number">7</span> <span class="token punctuation">(</span>Core<span class="token punctuation">)</span>
       CPE OS Name: cpe:/o:centos:centos:7
            Kernel: Linux <span class="token number">3.10</span>.0-514.el7.x86_64
      Architecture: x86-64
<span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># hostnamectl set-hostname lz88</span>
<span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># hostname</span>
lz88<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="修改-hosts-映射文件"><a href="#修改-hosts-映射文件" class="headerlink" title="修改 hosts 映射文件"></a>修改 hosts 映射文件</h3><blockquote>
<p>后续在 hadoop 阶段，虚拟机会比较多，配置时通常会采用主机名的方式配置， 比较简单方便。 不用刻意记 ip 地址</p>
</blockquote>
<h4 id="修改虚拟机的hosts映射文件"><a href="#修改虚拟机的hosts映射文件" class="headerlink" title="修改虚拟机的hosts映射文件"></a>修改虚拟机的hosts映射文件</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/hosts</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<blockquote>
<p>将以下内容写入</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#IP地址		  主机名	</span>
<span class="token number">192.168</span>.211.88 lz88
<span class="token number">192.168</span>.211.100 hadoop100
<span class="token number">192.168</span>.211.101 hadoop101
<span class="token number">192.168</span>.211.102 hadoop102<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="修改在估计的hosts映射文件"><a href="#修改在估计的hosts映射文件" class="headerlink" title="修改在估计的hosts映射文件"></a>修改在估计的hosts映射文件</h4><blockquote>
<p>路径C:\Windows\System32\drivers\etc\hosts，同样将上面内容写入</p>
</blockquote>
<h1 id="系统管理"><a href="#系统管理" class="headerlink" title="系统管理"></a>系统管理</h1><h2 id="Linux-中的进程和服务"><a href="#Linux-中的进程和服务" class="headerlink" title="Linux 中的进程和服务"></a>Linux 中的进程和服务</h2><blockquote>
<p>计算机中，一个正在执行的程序或命令，被叫做“进程”（process）。</p>
<p> 启动之后一只存在、常驻内存的进程，一般被称作“服务”（service）</p>
</blockquote>
<h2 id="service-服务管理（CentOS-6-版本-了解）"><a href="#service-服务管理（CentOS-6-版本-了解）" class="headerlink" title="service 服务管理（CentOS 6 版本-了解）"></a>service 服务管理（CentOS 6 版本-了解）</h2><blockquote>
<p><strong>基本语法： <code>service 服务名 start | stop | restart | status</code></strong></p>
</blockquote>
<blockquote>
<p>查看有哪些服务</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 system<span class="token punctuation">]</span><span class="token comment"># cd /etc/init.d</span>
<span class="token punctuation">[</span>root@lz88 init.d<span class="token punctuation">]</span><span class="token comment"># ls</span>
functions  netconsole  network  README<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<p>只有两个服务保留在 service——<strong>netconsole、network</strong></p>
</blockquote>
<h2 id="systemctl-（CentOS-7-版本-重点掌握）"><a href="#systemctl-（CentOS-7-版本-重点掌握）" class="headerlink" title="systemctl （CentOS 7 版本-重点掌握）"></a>systemctl （CentOS 7 版本-重点掌握）</h2><blockquote>
<p><strong>基本语法：<code>systemctl start | stop | restart | status 服务名</code></strong></p>
</blockquote>
<blockquote>
<p>查看有哪些服务</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># cd /usr/lib/systemd/system</span>
<span class="token punctuation">[</span>root@lz88 system<span class="token punctuation">]</span><span class="token comment"># ls</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</blockquote>
<h2 id="系统运行级别"><a href="#系统运行级别" class="headerlink" title="系统运行级别"></a>系统运行级别</h2><p><img src="/2022/08/31/linux/image-20220902144419273.png" alt="image-20220902144419273"></p>
<h3 id="CentOS7-的运行级别简化"><a href="#CentOS7-的运行级别简化" class="headerlink" title="CentOS7 的运行级别简化"></a>CentOS7 的运行级别简化</h3><blockquote>
<p><strong><code>multi-user.target</code> 等价于原运行级别 3（多用户有网，无图形界面）</strong> </p>
<p><strong><code>graphical.target</code> 等价于原运行级别 5（多用户有网，有图形界面）</strong></p>
</blockquote>
<h3 id="查看当前运行级别"><a href="#查看当前运行级别" class="headerlink" title="查看当前运行级别"></a>查看当前运行级别</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># systemctl get-default </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="修改当前运行级别"><a href="#修改当前运行级别" class="headerlink" title="修改当前运行级别"></a>修改当前运行级别</h3><h4 id="方法一"><a href="#方法一" class="headerlink" title="方法一"></a>方法一</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># init 3/5</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h4 id="方法二"><a href="#方法二" class="headerlink" title="方法二"></a>方法二</h4><blockquote>
<p>命令行模式：Ctrl + Alt + F2 ~ F6</p>
<p>图形GUI模式：Ctrl +Alt +F1</p>
</blockquote>
<h4 id="方法三"><a href="#方法三" class="headerlink" title="方法三"></a>方法三</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># systemctl set-default TARGET.target （这里TARGET取multi-user或者graphical）</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="设置后台服务的自启配置"><a href="#设置后台服务的自启配置" class="headerlink" title="设置后台服务的自启配置"></a>设置后台服务的自启配置</h2><h3 id="方式一"><a href="#方式一" class="headerlink" title="方式一"></a>方式一</h3><blockquote>
<p>进入后台服务自启动配置</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># setup</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<img src="/2022/08/31/linux/image-20220902144010955.png" alt="image-20220902144010955" style="zoom: 80%;">

<blockquote>
<p><strong>带有*的代表自启动，按 空格 来设置</strong></p>
<p><strong>按tab键选择 确定/取消</strong></p>
</blockquote>
<img src="/2022/08/31/linux/image-20220902144022046.png" alt="image-20220902144022046" style="zoom:80%;">

<h3 id="方式二"><a href="#方式二" class="headerlink" title="方式二"></a>方式二</h3><h4 id="chkconfig-设置后台服务的自启配置（CentOS-6-版本）"><a href="#chkconfig-设置后台服务的自启配置（CentOS-6-版本）" class="headerlink" title="chkconfig 设置后台服务的自启配置（CentOS 6 版本）"></a>chkconfig 设置后台服务的自启配置（CentOS 6 版本）</h4><h5 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h5><blockquote>
<ul>
<li><strong><code>chkconfig</code> （功能描述：查看所有服务器自启配置）</strong></li>
<li><strong><code>chkconfig 服务名 --list</code> （功能描述：查看服务开机启动状态）</strong></li>
<li><strong><code>chkconfig 服务名 off</code> （功能描述：关掉指定服务的自动启动）</strong></li>
<li><strong><code>chkconfig 服务名 on</code> （功能描述：开启指定服务的自动启动）</strong></li>
<li><strong><code>chkconfig --level 运行级别 服务名 off/on</code> （功能描述：指定运行级别、指定服务的自启动开关）</strong></li>
</ul>
</blockquote>
<h5 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h5><blockquote>
<p>netconsole、network使用chkconfig，也只有这两个</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --list</span>

注意：该输出结果只显示 SysV 服务，并不包含原生 systemd 服务。SysV 配置数据可能被原生 systemd 配置覆盖。 
      如果您想列出 systemd 服务,请执行 <span class="token string">'systemctl list-unit-files'</span>。
      欲查看对特定 target 启用的服务请执行
      <span class="token string">'systemctl list-dependencies [target]'</span>。

netconsole     	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:关	<span class="token number">3</span>:关	<span class="token number">4</span>:关	<span class="token number">5</span>:关	<span class="token number">6</span>:关
network        	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:开	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig network off</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --list</span>

注意：该输出结果只显示 SysV 服务，并不包含原生 systemd 服务。SysV 配置数据可能被原生 systemd 配置覆盖。 
      如果您想列出 systemd 服务,请执行 <span class="token string">'systemctl list-unit-files'</span>。
      欲查看对特定 target 启用的服务请执行
      <span class="token string">'systemctl list-dependencies [target]'</span>。

netconsole     	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:关	<span class="token number">3</span>:关	<span class="token number">4</span>:关	<span class="token number">5</span>:关	<span class="token number">6</span>:关
network        	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:关	<span class="token number">3</span>:关	<span class="token number">4</span>:关	<span class="token number">5</span>:关	<span class="token number">6</span>:关
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig network on</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --list</span>

注意：该输出结果只显示 SysV 服务，并不包含原生 systemd 服务。SysV 配置数据可能被原生 systemd 配置覆盖。 
      如果您想列出 systemd 服务,请执行 <span class="token string">'systemctl list-unit-files'</span>。
      欲查看对特定 target 启用的服务请执行
      <span class="token string">'systemctl list-dependencies [target]'</span>。

netconsole     	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:关	<span class="token number">3</span>:关	<span class="token number">4</span>:关	<span class="token number">5</span>:关	<span class="token number">6</span>:关
network        	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:开	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --level 3 network off</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># chkconfig --list</span>

注意：该输出结果只显示 SysV 服务，并不包含原生 systemd 服务。SysV 配置数据可能被原生 systemd 配置覆盖。 
      如果您想列出 systemd 服务,请执行 <span class="token string">'systemctl list-unit-files'</span>。
      欲查看对特定 target 启用的服务请执行
      <span class="token string">'systemctl list-dependencies [target]'</span>。

netconsole     	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:关	<span class="token number">3</span>:关	<span class="token number">4</span>:关	<span class="token number">5</span>:关	<span class="token number">6</span>:关
network        	<span class="token number">0</span>:关	<span class="token number">1</span>:关	<span class="token number">2</span>:开	<span class="token number">3</span>:关	<span class="token number">4</span>:开	<span class="token number">5</span>:开	<span class="token number">6</span>:关<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="systemctl-设置后台服务的自启配置"><a href="#systemctl-设置后台服务的自启配置" class="headerlink" title="systemctl 设置后台服务的自启配置"></a>systemctl 设置后台服务的自启配置</h4><h5 id="基本语法-1"><a href="#基本语法-1" class="headerlink" title="基本语法"></a>基本语法</h5><blockquote>
<ul>
<li><strong><code>systemctl list-unit-files</code> ：查看服务开机启动状态</strong></li>
<li><strong><code>systemctl disable 服务名</code>：关掉指定服务的自动启动</strong> </li>
<li><strong><code>systemctl enable 服务名</code>：开启指定服务的自动启动</strong></li>
<li><strong><code>systemctl status 服务名</code>：查看指定服务的状态</strong></li>
</ul>
</blockquote>
<h5 id="实例-1"><a href="#实例-1" class="headerlink" title="实例"></a>实例</h5><blockquote>
<p>设置<strong>防火墙（filewalld）</strong>的开机自启动</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># systemctl status firewalld</span>
● firewalld.service - firewalld - dynamic firewall daemon
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/firewalld.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since 五 <span class="token number">2022</span>-09-02 <span class="token number">11</span>:39:44 CST<span class="token punctuation">;</span> 7h ago
     Docs: man:firewalld<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
 Main PID: <span class="token number">629</span> <span class="token punctuation">(</span>firewalld<span class="token punctuation">)</span>
   CGroup: /system.slice/firewalld.service
           └─629 /usr/bin/python <span class="token parameter variable">-Es</span> /usr/sbin/firewalld <span class="token parameter variable">--nofork</span> <span class="token parameter variable">--nopid</span>
           
<span class="token number">9</span>月 02 <span class="token number">11</span>:39:43 lz88 systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting firewalld - dynamic firewall dae<span class="token punctuation">..</span><span class="token punctuation">..</span>.
<span class="token number">9</span>月 02 <span class="token number">11</span>:39:44 lz88 systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started firewalld - dynamic firewall daemon.
Hint: Some lines were ellipsized, use <span class="token parameter variable">-l</span> to show <span class="token keyword">in</span> full.
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># systemctl disable firewalld</span>
Removed symlink /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service.
Removed symlink /etc/systemd/system/basic.target.wants/firewalld.service
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># systemctl status firewalld</span>
● firewalld.service - firewalld - dynamic firewall daemon
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/firewalld.service<span class="token punctuation">;</span> disabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since 五 <span class="token number">2022</span>-09-02 <span class="token number">11</span>:39:44 CST<span class="token punctuation">;</span> 7h ago
     Docs: man:firewalld<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
 Main PID: <span class="token number">629</span> <span class="token punctuation">(</span>firewalld<span class="token punctuation">)</span>
   CGroup: /system.slice/firewalld.service
           └─629 /usr/bin/python <span class="token parameter variable">-Es</span> /usr/sbin/firewalld <span class="token parameter variable">--nofork</span> <span class="token parameter variable">--nopid</span>

<span class="token number">9</span>月 02 <span class="token number">11</span>:39:43 lz88 systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting firewalld - dynamic firewall dae<span class="token punctuation">..</span><span class="token punctuation">..</span>.
<span class="token number">9</span>月 02 <span class="token number">11</span>:39:44 lz88 systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started firewalld - dynamic firewall daemon.
Hint: Some lines were ellipsized, use <span class="token parameter variable">-l</span> to show <span class="token keyword">in</span> full.
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># systemctl enable firewalld</span>
Created symlink from /etc/systemd/system/dbus-org.fedoraproject.FirewallD1.service to /usr/lib/systemd/system/firewalld.service.
Created symlink from /etc/systemd/system/basic.target.wants/firewalld.service to /usr/lib/systemd/system/firewalld.service.
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># systemctl status firewalld</span>
● firewalld.service - firewalld - dynamic firewall daemon
   Loaded: loaded <span class="token punctuation">(</span>/usr/lib/systemd/system/firewalld.service<span class="token punctuation">;</span> enabled<span class="token punctuation">;</span> vendor preset: enabled<span class="token punctuation">)</span>
   Active: active <span class="token punctuation">(</span>running<span class="token punctuation">)</span> since 五 <span class="token number">2022</span>-09-02 <span class="token number">11</span>:39:44 CST<span class="token punctuation">;</span> 7h ago
     Docs: man:firewalld<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
 Main PID: <span class="token number">629</span> <span class="token punctuation">(</span>firewalld<span class="token punctuation">)</span>
   CGroup: /system.slice/firewalld.service
           └─629 /usr/bin/python <span class="token parameter variable">-Es</span> /usr/sbin/firewalld <span class="token parameter variable">--nofork</span> <span class="token parameter variable">--nopid</span>

<span class="token number">9</span>月 02 <span class="token number">11</span>:39:43 lz88 systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Starting firewalld - dynamic firewall dae<span class="token punctuation">..</span><span class="token punctuation">..</span>.
<span class="token number">9</span>月 02 <span class="token number">11</span>:39:44 lz88 systemd<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>: Started firewalld - dynamic firewall daemon.
Hint: Some lines were ellipsized, use <span class="token parameter variable">-l</span> to show <span class="token keyword">in</span> full.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="关机重启"><a href="#关机重启" class="headerlink" title="关机重启"></a>关机重启</h2><h3 id="基本语法-2"><a href="#基本语法-2" class="headerlink" title="基本语法"></a>基本语法</h3><blockquote>
<ol>
<li><p><strong><code>sync</code> （功能描述：将数据由内存同步到硬盘中）</strong> </p>
</li>
<li><p><strong><code>halt</code> （功能描述：停机，关闭系统，但不断电）</strong> </p>
</li>
<li><p><strong><code>poweroff</code> （功能描述：关机，断电）</strong> </p>
</li>
<li><p><strong><code>reboot</code> （功能描述：就是重启，等同于 shutdown -r now）</strong> </p>
</li>
<li><p><strong><code>shutdown [选项] [参数]</code></strong></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-H</td>
<td>相当于–halt，停机</td>
</tr>
<tr>
<td>无选项</td>
<td>相当于poweroff，关机</td>
</tr>
<tr>
<td>-h</td>
<td>相当于poweroff，关机</td>
</tr>
<tr>
<td>-P</td>
<td>相当于poweroff，关机</td>
</tr>
<tr>
<td>-r</td>
<td>-r=reboot，重启</td>
</tr>
<tr>
<td>-c</td>
<td>取消之前的关机操作</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>参数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>now</td>
<td>立刻关机</td>
</tr>
<tr>
<td>时间</td>
<td>等待多久后关机（时间单位是分钟）/ 指定一个时间点，例如13：00：00</td>
</tr>
</tbody></table>
</li>
</ol>
</blockquote>
<h3 id="经验技巧"><a href="#经验技巧" class="headerlink" title="经验技巧"></a>经验技巧</h3><blockquote>
<p>Linux 系统中为了提高磁盘的读写效率，对磁盘采取了 “预读迟写”操作方式。当用户保存文件时，Linux 核心并不一定立即将保存数据写入物理磁盘中，而是将数据保存在缓冲区中，等缓冲区满时再写入磁盘，这种方式可以极大的提高磁盘写入数据的效率。但是， 也带来了安全隐患，如果数据还未写入磁盘时，系统掉电或者其他严重问题出现，则将导 致数据丢失。使用 sync 指令可以立即将缓冲区的数据写入磁盘。</p>
</blockquote>
<h1 id="常用基本命令（重要）"><a href="#常用基本命令（重要）" class="headerlink" title="常用基本命令（重要）"></a>常用基本命令（重要）</h1><h2 id="判断是否为内置命令"><a href="#判断是否为内置命令" class="headerlink" title="判断是否为内置命令"></a>判断是否为内置命令</h2><blockquote>
<p>一部分基础功能的系统命令是直接内嵌在 shell 中的，系统加载启动之后会随着 shell一起加载，常驻系统内存中。这部分命令被称为“内置命令”；相应的其它命令被称为“外部命令”。</p>
</blockquote>
<blockquote>
<p><strong>基本语法：<code>type 命令</code></strong></p>
<p><strong>功能描述：判断当前命令是内置命令还是外部命令</strong></p>
</blockquote>
<h2 id="帮助命令"><a href="#帮助命令" class="headerlink" title="帮助命令"></a>帮助命令</h2><h3 id="man-获得帮助信息"><a href="#man-获得帮助信息" class="headerlink" title="man 获得帮助信息"></a>man 获得帮助信息</h3><blockquote>
<p><strong>基本语法：<code>man [命令或配置文件]</code></strong></p>
<p><strong>man只能获取外部命令</strong></p>
</blockquote>
<h3 id="help获得帮助信息"><a href="#help获得帮助信息" class="headerlink" title="help获得帮助信息"></a>help获得帮助信息</h3><h4 id="获取内置命令"><a href="#获取内置命令" class="headerlink" title="获取内置命令"></a>获取内置命令</h4><blockquote>
<p><strong>基本语法：<code>help 命令</code></strong></p>
</blockquote>
<h4 id="获取外置命令"><a href="#获取外置命令" class="headerlink" title="获取外置命令"></a>获取外置命令</h4><blockquote>
<p><strong>基本语法：<code>命令 --help</code></strong></p>
</blockquote>
<h2 id="常用快捷键"><a href="#常用快捷键" class="headerlink" title="常用快捷键"></a>常用快捷键</h2><table>
<thead>
<tr>
<th>常用快捷键</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>ctrl + c</td>
<td>停止进程</td>
</tr>
<tr>
<td>ctrl+l</td>
<td>清屏，等同于 clear</td>
</tr>
<tr>
<td>reset</td>
<td>彻底清屏</td>
</tr>
<tr>
<td>tab</td>
<td>提示(更重要的是可以防止敲错)</td>
</tr>
</tbody></table>
<h2 id="文件目录类"><a href="#文件目录类" class="headerlink" title="文件目录类"></a>文件目录类</h2><h3 id="pwd"><a href="#pwd" class="headerlink" title="pwd"></a>pwd</h3><blockquote>
<ul>
<li><strong>基本语法：<code>pwd</code></strong> </li>
<li><strong>功能描述：显示当前工作目录的绝对路径</strong></li>
</ul>
</blockquote>
<h3 id="cd"><a href="#cd" class="headerlink" title="cd"></a>cd</h3><blockquote>
<ul>
<li><strong>基本语法：<code>cd [参数]</code></strong> </li>
<li><strong>功能描述：切换目录</strong></li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>参数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>cd 绝对路径</td>
<td>切换路径。例如：<code>[root@lz88 ~]# cd /etc/sysconfig</code></td>
</tr>
<tr>
<td>cd 相对路径</td>
<td>切换路径。例如：<code>[root@lz88 ~]# cd 桌面</code> 或者<code>[root@lz88 桌面]# cd ../视频</code></td>
</tr>
<tr>
<td>cd ~或者 cd</td>
<td>回到自己的家目录</td>
</tr>
<tr>
<td>cd -</td>
<td>回到上一次所在目录</td>
</tr>
<tr>
<td>cd ..</td>
<td>回到当前目录的上一级目录</td>
</tr>
<tr>
<td>cd -P</td>
<td>跳转到实际物理路径，而非快捷方式路径</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 /<span class="token punctuation">]</span><span class="token comment"># cd</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># cd /etc/sysconfig</span>
<span class="token punctuation">[</span>root@lz88 sysconfig<span class="token punctuation">]</span><span class="token comment"># cd</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># cd 桌面</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># cd ../视频</span>
<span class="token punctuation">[</span>root@lz88 视频<span class="token punctuation">]</span><span class="token comment"># cd -</span>
/root/桌面
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># cd -P</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># </span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ls"><a href="#ls" class="headerlink" title="ls"></a>ls</h3><blockquote>
<ul>
<li><strong>基本语法：<code>ls [选项] [目录或是文件]</code></strong></li>
<li><strong>功能描述：列出目录内容</strong></li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-a</td>
<td>全部的文件，连同隐藏档( 开头为 . 的文件) 一起列出来(常用)</td>
</tr>
<tr>
<td>-l</td>
<td>长数据串列出，包含文件的属性与权限等等数据；(常用)等价于“ll”</td>
</tr>
<tr>
<td>-al</td>
<td>-a 和 -l的结合</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls -a</span>
<span class="token builtin class-name">.</span>   anaconda-ks.cfg  .bash_logout   .bashrc  .config  .dbus      .ICEauthority         .local    original-ks.cfg  .viminfo  模板  图片  下载  桌面
<span class="token punctuation">..</span>  .bash_history    .bash_profile  .cache   .cshrc   .esd_auth  initial-setup-ks.cfg  .mozilla  .tcshrc          公共      视频  文档  音乐
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls -l</span>
总用量 <span class="token number">12</span>
-rw-------. <span class="token number">1</span> root root <span class="token number">2747</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 anaconda-ks.cfg
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">2755</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:03 initial-setup-ks.cfg
-rw-------. <span class="token number">1</span> root root <span class="token number">2038</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 original-ks.cfg
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 公共
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 模板
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 视频
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 图片
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 文档
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 下载
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 音乐
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">85</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">10</span>:21 桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls -al</span>
总用量 <span class="token number">60</span>
dr-xr-x---. <span class="token number">15</span> root root <span class="token number">4096</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">20</span>:31 <span class="token builtin class-name">.</span>
dr-xr-xr-x. <span class="token number">17</span> root root  <span class="token number">224</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 <span class="token punctuation">..</span>
-rw-------.  <span class="token number">1</span> root root <span class="token number">2747</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 anaconda-ks.cfg
-rw-------.  <span class="token number">1</span> root root <span class="token number">2266</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">19</span>:20 .bash_history
-rw-r--r--.  <span class="token number">1</span> root root   <span class="token number">18</span> <span class="token number">12</span>月 <span class="token number">29</span> <span class="token number">2013</span> .bash_logout
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">176</span> <span class="token number">12</span>月 <span class="token number">29</span> <span class="token number">2013</span> .bash_profile
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">176</span> <span class="token number">12</span>月 <span class="token number">29</span> <span class="token number">2013</span> .bashrc
drwx------. <span class="token number">13</span> root root <span class="token number">4096</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">11</span>:40 .cache
drwx------. <span class="token number">15</span> root root  <span class="token number">276</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 .config
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">100</span> <span class="token number">12</span>月 <span class="token number">29</span> <span class="token number">2013</span> .cshrc
drwx------.  <span class="token number">3</span> root root   <span class="token number">25</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 .dbus
-rw-------.  <span class="token number">1</span> root root   <span class="token number">16</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:04 .esd_auth
-rw-------.  <span class="token number">1</span> root root <span class="token number">3744</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">20</span>:31 .ICEauthority
-rw-r--r--.  <span class="token number">1</span> root root <span class="token number">2755</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:03 initial-setup-ks.cfg
drwxr-xr-x.  <span class="token number">3</span> root root   <span class="token number">19</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:04 .local
drwxr-xr-x.  <span class="token number">4</span> root root   <span class="token number">39</span> <span class="token number">9</span>月   <span class="token number">1</span> <span class="token number">21</span>:32 .mozilla
-rw-------.  <span class="token number">1</span> root root <span class="token number">2038</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 original-ks.cfg
-rw-r--r--.  <span class="token number">1</span> root root  <span class="token number">129</span> <span class="token number">12</span>月 <span class="token number">29</span> <span class="token number">2013</span> .tcshrc
-rw-------.  <span class="token number">1</span> root root <span class="token number">5013</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">11</span>:29 .viminfo
drwxr-xr-x.  <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 公共
drwxr-xr-x.  <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 模板
drwxr-xr-x.  <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 视频
drwxr-xr-x.  <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 图片
drwxr-xr-x.  <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 文档
drwxr-xr-x.  <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 下载
drwxr-xr-x.  <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 音乐
drwxr-xr-x.  <span class="token number">2</span> root root   <span class="token number">85</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">10</span>:21 桌面<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="mkdir-x2F-rmdir-创建-x2F-删除目录"><a href="#mkdir-x2F-rmdir-创建-x2F-删除目录" class="headerlink" title="mkdir/rmdir 创建/删除目录"></a>mkdir/rmdir 创建/删除目录</h3><blockquote>
<ul>
<li><strong><code>mkdir [选项] 要创建的目录</code>：创建一个新的目录</strong></li>
<li><strong><code>rmdir [选项] 要删除的空目录</code>：删除一个空的目录</strong></li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-p</td>
<td>创建/删除 多层目录</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># mkdir a</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
a  anaconda-ks.cfg  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># mkdir -p b/c/d</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
a  anaconda-ks.cfg  b  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls b</span>
c
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># rmdir a</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># rmdir -p b/c/d</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
anaconda-ks.cfg  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># rmdir /home/lz/hello</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls /home/lz</span>
hello  公共  模板  视频  图片  文档  下载  音乐  桌面<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="touch-创建空文件"><a href="#touch-创建空文件" class="headerlink" title="touch 创建空文件"></a>touch 创建空文件</h3><blockquote>
<p><strong>基本语法：<code>touch 文件名称</code></strong></p>
<p><strong>功能描述：创建一个空文件</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># touch a</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">12</span>
-rw-r--r--. <span class="token number">1</span> root root    <span class="token number">0</span> <span class="token number">9</span>月   <span class="token number">3</span> <span class="token number">10</span>:23 a
-rw-------. <span class="token number">1</span> root root <span class="token number">2747</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 anaconda-ks.cfg
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">2755</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:03 initial-setup-ks.cfg
-rw-------. <span class="token number">1</span> root root <span class="token number">2038</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 original-ks.cfg
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 公共
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 模板
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 视频
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 图片
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 文档
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 下载
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 音乐
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">85</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">10</span>:21 桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># touch /home/lz/hello01</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls /home/lz</span>
hello01  公共  模板  视频  图片  文档  下载  音乐  桌面<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="rm-删除文件和目录"><a href="#rm-删除文件和目录" class="headerlink" title="rm 删除文件和目录"></a>rm 删除文件和目录</h3><blockquote>
<ul>
<li><strong>基本语法：<code>rm [选项] deleteFile</code></strong> </li>
<li><strong>功能描述：递归删除文件和目录中所有内容</strong></li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-r</td>
<td>递归删除目录中所有内容</td>
</tr>
<tr>
<td>-f</td>
<td>强制执行删除操作，而不提示用于进行确认。</td>
</tr>
<tr>
<td>-rf</td>
<td>-r 和 -f的结合，强制递归删除目录中所有内容，而不提示用于进行确认。（慎用）</td>
</tr>
<tr>
<td>-v</td>
<td>显示指令的详细执行过程</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># mkdir -p a/b</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># touch a/b/c</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls a/b</span>
c
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># rm -r a</span>
rm：是否进入目录<span class="token string">"a"</span>? y
rm：是否进入目录<span class="token string">"a/b"</span>? y
rm：是否删除普通空文件 <span class="token string">"a/b/c"</span>？y
rm：是否删除目录 <span class="token string">"a/b"</span>？y
rm：是否删除目录 <span class="token string">"a"</span>？y
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
anaconda-ks.cfg  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="cp-复制文件或目录"><a href="#cp-复制文件或目录" class="headerlink" title="cp 复制文件或目录"></a>cp 复制文件或目录</h3><blockquote>
<ul>
<li><strong>基本语法：<code>cp [选项] 源文件/源目录 目标文件/目标目录</code></strong> </li>
<li><strong>功能描述：复制 源文件/源目录 到 目标文件/目标目录</strong></li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-r</td>
<td>递归复制整个文件夹</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># touch a</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
a  anaconda-ks.cfg  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># cp a /home/lz</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls /home/lz</span>
a  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># mkdir -p hello/hello01</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
a  anaconda-ks.cfg  hello  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># touch hello/hello01/hello02</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ll hello/hello01</span>
总用量 <span class="token number">0</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">0</span> <span class="token number">9</span>月   <span class="token number">3</span> <span class="token number">10</span>:49 hello02
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># cp -r hello /home/lz</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls /home/lz</span>
a  hello  公共  模板  视频  图片  文档  下载  音乐  桌面<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="经验技巧-1"><a href="#经验技巧-1" class="headerlink" title="经验技巧"></a>经验技巧</h4><blockquote>
<p><strong>强制覆盖不提示的方法：<code>\cp</code></strong></p>
</blockquote>
<h3 id="scp远程拷贝复制"><a href="#scp远程拷贝复制" class="headerlink" title="scp远程拷贝复制"></a>scp远程拷贝复制</h3><blockquote>
<ul>
<li>基本语法：<code>scp [可选参数] 原路径 目标路径 </code><ul>
<li>源路径：<code>用户名@ip地址：路径</code></li>
</ul>
</li>
<li>功能描述：用于Linux之间复制文件和目录。</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>参数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-r</td>
<td>递归复制整个目录。</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># scp hello root@192.168.221.100:/root/</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="mv-移动文件与目录或重命名"><a href="#mv-移动文件与目录或重命名" class="headerlink" title="mv 移动文件与目录或重命名"></a>mv 移动文件与目录或重命名</h3><blockquote>
<p><strong><code>mv oldNameFile newNameFile</code> ：重命名</strong></p>
<p><strong><code>mv /temp/movefile /targetFolder </code>：移动文件</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
a  anaconda-ks.cfg  b  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># mv a hello</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
anaconda-ks.cfg  b  hello  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># mv b /home/lz</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls /home/lz</span>
b  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># mv hello /home/lz/demo</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
anaconda-ks.cfg  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls /home/lz</span>
b  demo  公共  模板  视频  图片  文档  下载  音乐  桌面<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="查看文件内容"><a href="#查看文件内容" class="headerlink" title="查看文件内容"></a>查看文件内容</h3><h4 id="cat-查看文件内容"><a href="#cat-查看文件内容" class="headerlink" title="cat 查看文件内容"></a>cat 查看文件内容</h4><blockquote>
<p><strong>基本语法：<code>cat [选项] 要查看的文件</code></strong></p>
<p><strong>功能描述：查看文件内容，从第一行开始显示。</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能描述</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>显示所有行的行号，包括空行。</td>
</tr>
</tbody></table>
<h5 id="经验技巧-2"><a href="#经验技巧-2" class="headerlink" title="经验技巧"></a>经验技巧</h5><blockquote>
<p>一<strong>般查看比较小的文件，一屏幕能显示全的。</strong></p>
</blockquote>
<h4 id="more-文件内容分屏查看器"><a href="#more-文件内容分屏查看器" class="headerlink" title="more 文件内容分屏查看器"></a>more 文件内容分屏查看器</h4><blockquote>
<p>more 指令是一个基于 VI 编辑器的文本过滤器，它以全屏幕的方式按页显示文本文件 的内容。more 指令中内置了若干快捷键，详见操作说明。</p>
</blockquote>
<blockquote>
<p><strong>基本语法：<code>more 要查看的文件</code></strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>操作</th>
<th>功能说明</th>
</tr>
</thead>
<tbody><tr>
<td>Enter</td>
<td>代表向下翻『一行』</td>
</tr>
<tr>
<td>空白键 (space)</td>
<td>代表向下翻一页</td>
</tr>
<tr>
<td>Ctrl+F</td>
<td>向下滚动一屏</td>
</tr>
<tr>
<td>Ctrl+B</td>
<td>返回上一屏</td>
</tr>
<tr>
<td>=</td>
<td>输出当前行的行号</td>
</tr>
<tr>
<td>:f</td>
<td>输出文件名和当前行的行号</td>
</tr>
<tr>
<td>q</td>
<td>代表立刻离开more ，不再显示该文件内容。</td>
</tr>
</tbody></table>
<h4 id="less-分屏显示文件内容"><a href="#less-分屏显示文件内容" class="headerlink" title="less 分屏显示文件内容"></a>less 分屏显示文件内容</h4><blockquote>
<p>less 指令用来分屏查看文件内容，<strong>它的功能与 more 指令类似，但是比 more 指令更加强大</strong>，支持各种显示终端。<strong>less 指令在显示文件内容时，并不是一次将整个文件加载之后才显示，而是根据显示需要加载内容，对于显示大型文件具有较高的效率。</strong></p>
</blockquote>
<blockquote>
<p><strong>基本语法：<code>less 要查看的文件</code></strong> </p>
</blockquote>
<table>
<thead>
<tr>
<th>操作</th>
<th>功能说明</th>
</tr>
</thead>
<tbody><tr>
<td>Enter</td>
<td>代表向下翻『一行』</td>
</tr>
<tr>
<td>空白键</td>
<td>向下翻动一页</td>
</tr>
<tr>
<td>[pagedown]</td>
<td>向下翻动一页</td>
</tr>
<tr>
<td>[pageup]</td>
<td>向上翻动一页</td>
</tr>
<tr>
<td>Ctrl+F</td>
<td>向下滚动一屏</td>
</tr>
<tr>
<td>Ctrl+B</td>
<td>返回上一屏</td>
</tr>
<tr>
<td>=</td>
<td>输出当前行的行号</td>
</tr>
<tr>
<td>:f</td>
<td>输出文件名和当前行的行号</td>
</tr>
<tr>
<td>/字串</td>
<td>向下搜寻『字串』的功能；n：向下查找；N：向上查找；</td>
</tr>
<tr>
<td>?字串</td>
<td>向上搜寻『字串』的功能；n：向上查找；N：向下查找；</td>
</tr>
<tr>
<td>q</td>
<td>离开 less</td>
</tr>
</tbody></table>
<h3 id="echo-输出内容到控制台"><a href="#echo-输出内容到控制台" class="headerlink" title="echo 输出内容到控制台"></a>echo 输出内容到控制台</h3><blockquote>
<p><strong>基本语法：<code>echo [选项] [输出内容]</code></strong> </p>
<p><strong>选项：<code>-e</code>： 支持反斜线控制的字符转换</strong>  </p>
</blockquote>
<table>
<thead>
<tr>
<th>控制字符</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>\\</td>
<td>输出\本身</td>
</tr>
<tr>
<td>\n</td>
<td>换行符</td>
</tr>
<tr>
<td>\t</td>
<td>制表符，也就是 Tab</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># echo hello,world</span>
hello,world
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># echo hello world</span>
hello world
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># echo -e "hello\nworld"</span>
hello
world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="gt-输出重定向和-gt-gt-追加"><a href="#gt-输出重定向和-gt-gt-追加" class="headerlink" title="> 输出重定向和 >> 追加"></a>&gt; 输出重定向和 &gt;&gt; 追加</h3><blockquote>
<ol>
<li><strong><code>ls -l &gt; 文件</code>：列表的内容写入文件中（覆盖写）</strong></li>
<li><strong><code>ls -al &gt;&gt; 文件</code>：功能描述：列表的内容追加到文件的末尾</strong></li>
<li><strong><code>cat 文件 1 &gt; 文件 2</code> ：将文件 1 的内容覆盖到文件 2</strong></li>
<li><strong><code>echo “内容” &gt;&gt; 文件</code></strong></li>
</ol>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ll &gt;&gt; info</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># cat info</span>
总用量 <span class="token number">16</span>
-rw-------. <span class="token number">1</span> root root <span class="token number">2747</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 anaconda-ks.cfg
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">655</span> <span class="token number">9</span>月   <span class="token number">3</span> <span class="token number">17</span>:24 info
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">2755</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:03 initial-setup-ks.cfg
-rw-------. <span class="token number">1</span> root root <span class="token number">2038</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 original-ks.cfg
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 公共
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 模板
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 视频
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 图片
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 文档
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 下载
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 音乐
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">85</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">10</span>:21 桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># echo "hello,world" &gt;&gt; info</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># cat info</span>
总用量 <span class="token number">16</span>
-rw-------. <span class="token number">1</span> root root <span class="token number">2747</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 anaconda-ks.cfg
-rw-r--r--. <span class="token number">1</span> root root  <span class="token number">655</span> <span class="token number">9</span>月   <span class="token number">3</span> <span class="token number">17</span>:24 info
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">2755</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:03 initial-setup-ks.cfg
-rw-------. <span class="token number">1</span> root root <span class="token number">2038</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 original-ks.cfg
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 公共
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 模板
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 视频
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 图片
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 文档
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 下载
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 音乐
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">85</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">10</span>:21 桌面
hello,world<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="head-显示文件头部内容"><a href="#head-显示文件头部内容" class="headerlink" title="head 显示文件头部内容"></a>head 显示文件头部内容</h3><blockquote>
<ol>
<li><strong><code>head 文件</code> ：默认查看文件头10行内容</strong></li>
<li><strong><code>head -n x 文件</code>：查看文件头x行内容，x可以是任意行数</strong></li>
</ol>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># head info</span>
总用量 <span class="token number">12</span>
-rw-------. <span class="token number">1</span> root root <span class="token number">2747</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 anaconda-ks.cfg
-rw-r--r--. <span class="token number">1</span> root root    <span class="token number">0</span> <span class="token number">9</span>月   <span class="token number">3</span> <span class="token number">17</span>:24 info
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">2755</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:03 initial-setup-ks.cfg
-rw-------. <span class="token number">1</span> root root <span class="token number">2038</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 original-ks.cfg
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 公共
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 模板
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 视频
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 图片
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 文档
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># head -n 5 info</span>
总用量 <span class="token number">12</span>
-rw-------. <span class="token number">1</span> root root <span class="token number">2747</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 anaconda-ks.cfg
-rw-r--r--. <span class="token number">1</span> root root    <span class="token number">0</span> <span class="token number">9</span>月   <span class="token number">3</span> <span class="token number">17</span>:24 info
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">2755</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:03 initial-setup-ks.cfg
-rw-------. <span class="token number">1</span> root root <span class="token number">2038</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 original-ks.cfg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="tail-输出文件尾部内容"><a href="#tail-输出文件尾部内容" class="headerlink" title="tail 输出文件尾部内容"></a>tail 输出文件尾部内容</h3><blockquote>
<ol>
<li><strong><code>tail 文件</code>：默认查看文件尾部10行内容</strong> </li>
<li><strong><code>tail -n x 文件</code>：查看文件尾部x行内容，x可以是任意行数</strong> </li>
<li><strong><code>tail -f 文件</code> ：实时追踪该文档的所有更新</strong><ol>
<li><strong>Ctrl + s：暂停监控</strong></li>
<li><strong>Ctrl + q：继续监控，之前暂停的部分也加载出来</strong></li>
</ol>
</li>
</ol>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># tail info</span>
-rw-------. <span class="token number">1</span> root root <span class="token number">2038</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 original-ks.cfg
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 公共
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 模板
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 视频
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 图片
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 文档
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 下载
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 音乐
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">85</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">10</span>:21 桌面
hello,world
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># tail -n 5 info</span>
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 文档
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 下载
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 音乐
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">85</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">10</span>:21 桌面
hello,world
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># tail -f info</span>
-rw-------. <span class="token number">1</span> root root <span class="token number">2038</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 original-ks.cfg
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 公共
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 模板
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 视频
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 图片
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 文档
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 下载
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 音乐
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">85</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">10</span>:21 桌面
hello,world
huanying<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="ln-软链接"><a href="#ln-软链接" class="headerlink" title="ln 软链接"></a>ln 软链接</h3><blockquote>
<p>ln 软链接 软链接也称为符号链接，<strong>类似于 windows 里的快捷方式</strong>，有自己的数据块，主要存放了链接其他文件的路径。</p>
<p><strong>基本语法：<code>ln -s [原文件或目录] [软链接名]</code></strong> </p>
<p><strong>功能描述：给原文件创建一个软链接</strong></p>
</blockquote>
<h4 id="经验技巧-3"><a href="#经验技巧-3" class="headerlink" title="经验技巧"></a>经验技巧</h4><blockquote>
<ul>
<li><strong>删除软链接：<code>rm -rf 软链接名</code>，而不是 <code>rm -rf 软链接名/</code> 如果使用 <code>rm -rf 软链接名/</code> 删除，会把软链接对应的真实目录下内容删掉</strong></li>
<li><strong>查看当前路径：在软连接目录中<code>pwd</code>显示软链接所在的路径，<code>pwd -P</code>显示原文件/目录的路径</strong></li>
<li><strong>查询：通过 <code>ll</code> 就可以查看，列表属性第 1 位是 <code>l</code>，尾部会有位置指向</strong></li>
<li>硬链接：软连接是文件/文件夹指向原文件/原文件夹，<strong>硬链接相当于副本<code>ln [原文件或目录] [软链接名]</code></strong></li>
</ul>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
anaconda-ks.cfg  foler  info  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># cd /home/lz</span>
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># ln -s /root/info Myinfo</span>
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># ls</span>
Myinfo  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># ln -s /root/foler Myfoler</span>
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># ls</span>
Myfoler  Myinfo  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># touch Myfoler/file</span>
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># ls Myfoler</span>
<span class="token function">file</span>
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># cd Myfoler</span>
<span class="token punctuation">[</span>root@lz88 Myfoler<span class="token punctuation">]</span><span class="token comment"># pwd</span>
/home/lz/Myfoler
<span class="token punctuation">[</span>root@lz88 Myfoler<span class="token punctuation">]</span><span class="token comment"># pwd -P</span>
/root/foler
<span class="token punctuation">[</span>root@lz88 Myfoler<span class="token punctuation">]</span><span class="token comment"># ll file</span>
lrwxrwxrwx. <span class="token number">1</span> root root <span class="token number">11</span> <span class="token number">9</span>月   <span class="token number">3</span> <span class="token number">21</span>:58 <span class="token function">file</span> -<span class="token operator">&gt;</span> /root/foler<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="history-查看已经执行过历史命令"><a href="#history-查看已经执行过历史命令" class="headerlink" title="history 查看已经执行过历史命令"></a>history 查看已经执行过历史命令</h3><blockquote>
<ul>
<li><strong><code>history </code>：查看已经执行过历史命令</strong><ul>
<li><strong>!标号：再次执行这个命令</strong></li>
</ul>
</li>
<li><strong><code>history -c</code>：清除已经执行过历史命令</strong></li>
</ul>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># history 10</span>
  <span class="token number">285</span>  <span class="token builtin class-name">echo</span> <span class="token string">"hello,world"</span> <span class="token operator">&gt;&gt;</span> info
  <span class="token number">286</span>  <span class="token function">cat</span> info
  <span class="token number">287</span>  <span class="token function">head</span> info
  <span class="token number">288</span>  <span class="token function">head</span> <span class="token parameter variable">-n</span> <span class="token number">5</span> info
  <span class="token number">289</span>  <span class="token function">tail</span> info
  <span class="token number">290</span>  <span class="token function">tail</span> <span class="token parameter variable">-n</span> <span class="token number">5</span> info
  <span class="token number">291</span>  <span class="token function">tail</span> <span class="token parameter variable">-f</span> info
  <span class="token number">292</span>  historyu
  <span class="token number">293</span>  <span class="token function">history</span>
  <span class="token number">294</span>  <span class="token function">history</span> <span class="token number">10</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># !291</span>
<span class="token function">tail</span> <span class="token parameter variable">-f</span> info
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 公共
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 模板
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 视频
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 图片
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 文档
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 下载
drwxr-xr-x. <span class="token number">2</span> root root    <span class="token number">6</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:10 音乐
drwxr-xr-x. <span class="token number">2</span> root root   <span class="token number">85</span> <span class="token number">9</span>月   <span class="token number">2</span> <span class="token number">10</span>:21 桌面
hello,world
huanying
^C
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># history -c</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># history</span>
    <span class="token number">1</span>  <span class="token function">history</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="时间日期类"><a href="#时间日期类" class="headerlink" title="时间日期类"></a>时间日期类</h2><blockquote>
<p>基本语法：<code>date [OPTION]... [+FORMAT]</code></p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-d&lt;时间字符串&gt;</td>
<td>显示指定的“时间字符串”表示的时间，而非当前时间</td>
</tr>
<tr>
<td>-s&lt;日期时间&gt;</td>
<td>设置系统日期时间</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>参数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>&lt;+日期时间格式&gt;</td>
<td>指定显示时使用的日期时间格式</td>
</tr>
</tbody></table>
<h3 id="date-显示当前时间"><a href="#date-显示当前时间" class="headerlink" title="date 显示当前时间"></a>date 显示当前时间</h3><blockquote>
<ol>
<li><strong><code>date</code> ：显示当前时间</strong></li>
<li><strong><code>date +%Y</code> ：显示当前年份</strong></li>
<li><strong><code>date +%m</code> ：显示当前月份</strong></li>
<li><strong><code>date +%d </code>：显示当前是哪一天</strong></li>
<li><strong><code>date "+%Y-%m-%d %H:%M:%S"</code> ：显示年月日时分秒</strong></li>
</ol>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># date</span>
<span class="token number">2022</span>年 09月 04日 星期日 <span class="token number">10</span>:44:49 CST
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># date +%Y</span>
<span class="token number">2022</span>
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># date +%m</span>
09
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># date +%d</span>
04
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># date "+%Y-%m-%d %H:%M:%S"</span>
<span class="token number">2022</span>-09-04 <span class="token number">10</span>:46:01<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="date-显示非当前时间"><a href="#date-显示非当前时间" class="headerlink" title="date 显示非当前时间"></a>date 显示非当前时间</h3><blockquote>
<ol>
<li><strong><code>date -d '1 days ago' </code>：显示前一天时间</strong></li>
<li><strong><code>date -d '-1 days ago'</code>：显示明天时间</strong></li>
</ol>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># date</span>
<span class="token number">2022</span>年 09月 04日 星期日 <span class="token number">10</span>:49:22 CST
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># date -d "1 day ago"</span>
<span class="token number">2022</span>年 09月 03日 星期六 <span class="token number">10</span>:49:01 CST
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># date -d "-1 day ago"</span>
<span class="token number">2022</span>年 09月 05日 星期一 <span class="token number">10</span>:49:16 CST<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="date-设置系统时间"><a href="#date-设置系统时间" class="headerlink" title="date 设置系统时间"></a>date 设置系统时间</h3><blockquote>
<p><strong>基本语法：<code>date -s 字符串时间</code></strong></p>
<p><strong>功能描述：设置系统时间</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># date</span>
<span class="token number">2022</span>年 09月 04日 星期日 <span class="token number">10</span>:50:47 CST
<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># date -s "2023-9-1 12:10:00"</span>
<span class="token number">2023</span>年 09月 01日 星期五 <span class="token number">12</span>:10:00 CST<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="cal-查看日历"><a href="#cal-查看日历" class="headerlink" title="cal 查看日历"></a>cal 查看日历</h3><blockquote>
<p><strong>基本语法：<code>cal [选项] </code></strong></p>
<p><strong>功能描述：不加选项，显示本月日历</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-m</td>
<td>周一用为一周第一天</td>
</tr>
<tr>
<td>具体某一年</td>
<td>显示这一年的日</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># cal</span>
      九月 <span class="token number">2022</span>     
日 一 二 三 四 五 六
             <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>
 <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span>
<span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span>
<span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span>
<span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span>

<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># cal -m</span>
      九月 <span class="token number">2022</span>     
一 二 三 四 五 六 日
          <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>
 <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span>
<span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span>
<span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span>
<span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span>

<span class="token punctuation">[</span>root@lz88 lz<span class="token punctuation">]</span><span class="token comment"># cal 2029</span>
                               <span class="token number">2029</span>                               

        一月                   二月                   三月        
日 一 二 三 四 五 六   日 一 二 三 四 五 六   日 一 二 三 四 五 六
    <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>                <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>                <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>
 <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span>    <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span>    <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span>
<span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>   <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span>   <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span>
<span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span>   <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span>   <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span>
<span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span> <span class="token number">31</span>            <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span>            <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span> <span class="token number">31</span>

        四月                   五月                   六月        
日 一 二 三 四 五 六   日 一 二 三 四 五 六   日 一 二 三 四 五 六
 <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>          <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>                   <span class="token number">1</span>  <span class="token number">2</span>
 <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span>    <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span>    <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span>
<span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span>   <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span>   <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span>
<span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span>   <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span>   <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span>
<span class="token number">29</span> <span class="token number">30</span>                  <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span> <span class="token number">31</span>         <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span>

        七月                   八月                   九月        
日 一 二 三 四 五 六   日 一 二 三 四 五 六   日 一 二 三 四 五 六
 <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>             <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>                      <span class="token number">1</span>
 <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span>    <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span>    <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>
<span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span>   <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span>    <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span>
<span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span>   <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span>   <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span>
<span class="token number">29</span> <span class="token number">30</span> <span class="token number">31</span>               <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span> <span class="token number">31</span>      <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span>
                                              <span class="token number">30</span>
        十月                  十一月                 十二月       
日 一 二 三 四 五 六   日 一 二 三 四 五 六   日 一 二 三 四 五 六
    <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>                <span class="token number">1</span>  <span class="token number">2</span>  <span class="token number">3</span>                      <span class="token number">1</span>
 <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span>    <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>  <span class="token number">9</span> <span class="token number">10</span>    <span class="token number">2</span>  <span class="token number">3</span>  <span class="token number">4</span>  <span class="token number">5</span>  <span class="token number">6</span>  <span class="token number">7</span>  <span class="token number">8</span>
<span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span>   <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span> <span class="token number">16</span> <span class="token number">17</span>    <span class="token number">9</span> <span class="token number">10</span> <span class="token number">11</span> <span class="token number">12</span> <span class="token number">13</span> <span class="token number">14</span> <span class="token number">15</span>
<span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span>   <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span> <span class="token number">23</span> <span class="token number">24</span>   <span class="token number">16</span> <span class="token number">17</span> <span class="token number">18</span> <span class="token number">19</span> <span class="token number">20</span> <span class="token number">21</span> <span class="token number">22</span>
<span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span> <span class="token number">31</span>            <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span> <span class="token number">30</span>      <span class="token number">23</span> <span class="token number">24</span> <span class="token number">25</span> <span class="token number">26</span> <span class="token number">27</span> <span class="token number">28</span> <span class="token number">29</span>
                                              <span class="token number">30</span> <span class="token number">31</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="用户管理命令"><a href="#用户管理命令" class="headerlink" title="用户管理命令"></a>用户管理命令</h2><h3 id="useradd-添加新用户"><a href="#useradd-添加新用户" class="headerlink" title="useradd 添加新用户"></a>useradd 添加新用户</h3><blockquote>
<p><strong><code>useradd 用户名</code> ：添加新用户</strong></p>
<p><strong><code>useradd -d 主文件夹 添加新用户名</code>：可以设置主文件夹名和用户名不同</strong></p>
<p><strong><code> useradd -g 组名 用户名</code> ：添加新用户到某个组</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># useradd tom</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls /home</span>
lz  tom
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># useradd -d /home/xiaopangzi wmy</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls /home</span>
lz  tom  xiaopangzi<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="passwd-设置用户密码"><a href="#passwd-设置用户密码" class="headerlink" title="passwd 设置用户密码"></a>passwd 设置用户密码</h3><blockquote>
<p><strong>基本语法：<code>passwd 用户名</code></strong> </p>
<p><strong>功能描述：设置用户密码</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># passwd tom</span>
更改用户 tom 的密码 。
新的 密码：
重新输入新的 密码：
passwd：所有的身份验证令牌已经成功更新。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="userdel-删除用户"><a href="#userdel-删除用户" class="headerlink" title="userdel 删除用户"></a>userdel 删除用户</h3><blockquote>
<p><strong><code>userdel 用户名</code> ：删除用户但保存用户主目录</strong></p>
<p><strong><code>userdel -r 用户名</code>：用户和用户主目录，都删除</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># useradd tangseng</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># useradd wukong</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls /home</span>
lz  tangseng  tom  wukong  xiaopangzi
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># userdel tangseng</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls /home</span>
lz  tangseng  tom  wukong  xiaopangzi
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># su tangseng</span>
su: user tangseng does not exist
您在 /var/spool/mail/root 中有新邮件
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># userdel -r wukong</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls /home</span>
lz  tangseng  tom  xiaopangzi
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># su wukong</span>
su: user wukong does not exist<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="id-查看用户是否存在"><a href="#id-查看用户是否存在" class="headerlink" title="id 查看用户是否存在"></a>id 查看用户是否存在</h3><blockquote>
<p><strong>基本语法：<code>id 用户</code></strong></p>
<p><strong>功能描述：查看用户是否存在</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># id tom</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span> 组<span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># id wmy</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1002</span><span class="token punctuation">(</span>wmy<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1002</span><span class="token punctuation">(</span>wmy<span class="token punctuation">)</span> 组<span class="token operator">=</span><span class="token number">1002</span><span class="token punctuation">(</span>wmy<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># id xiaopangzi</span>
id: xiaopangzi: no such user<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="cat-x2F-etc-x2F-passwd-查看创建了哪些用户"><a href="#cat-x2F-etc-x2F-passwd-查看创建了哪些用户" class="headerlink" title="cat /etc/passwd 查看创建了哪些用户"></a>cat /etc/passwd 查看创建了哪些用户</h3><blockquote>
<p><strong>基本语法：<code>cat /etc/passwd</code></strong></p>
<p><strong>功能描述：查看创建了哪些用户</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># cat /etc/passwd</span>
root:x:0:0:root:/root:/bin/bash
<span class="token punctuation">..</span>.
<span class="token punctuation">..</span>.
<span class="token punctuation">..</span>.
lz:x:1000:1000:MyLinux:/home/lz:/bin/bash
tom:x:1001:1001::/home/tom:/bin/bash
wmy:x:1002:1002::/home/xiaopangzi:/bin/bash<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="su-switch-user-切换用户"><a href="#su-switch-user-切换用户" class="headerlink" title="su(switch user) 切换用户"></a>su(switch user) 切换用户</h3><blockquote>
<p><strong><code>su 用户名称</code> ：切换用户，只能获得用户的执行权限，不能获得环境变量</strong></p>
<p><strong><code>su - 用户名称</code> ：切换到用户并获得该用户的环境变量及执行权限</strong></p>
</blockquote>
<pre class="line-numbers language-SHELL" data-language="SHELL"><code class="language-SHELL">[root@lz88 ~]# su tom
[tom@lz88 root]$ echo $PATH
/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin
[tom@lz88 root]$ exit
exit
[root@lz88 ~]# su - tom
上一次登录：日 9月  4 11:22:11 CST 2022pts/0 上
[tom@lz88 ~]$ echo $PATH
/usr/local/bin:/bin:/usr/bin:/usr/local/sbin:/usr/sbin:/home/tom/.local/bin:/home/tom/bin<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="who-查看登录用户信息"><a href="#who-查看登录用户信息" class="headerlink" title="who 查看登录用户信息"></a>who 查看登录用户信息</h3><blockquote>
<p><strong><code>whoami</code> ：显示自身用户名称</strong></p>
<p><strong><code>who am i</code>：显示登录用户的用户名以及登陆时间</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># who am i</span>
root     pts/0        <span class="token number">2022</span>-09-04 09:41 <span class="token punctuation">(</span><span class="token number">192.168</span>.221.1<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># whoami</span>
root
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># su tom</span>
<span class="token punctuation">[</span>tom@lz88 root<span class="token punctuation">]</span>$ <span class="token function">who</span> am i
root     pts/0        <span class="token number">2022</span>-09-04 09:41 <span class="token punctuation">(</span><span class="token number">192.168</span>.221.1<span class="token punctuation">)</span>
<span class="token punctuation">[</span>tom@lz88 root<span class="token punctuation">]</span>$ <span class="token function">whoami</span>
tom<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="sudo-设置普通用户具有-root-权"><a href="#sudo-设置普通用户具有-root-权" class="headerlink" title="sudo 设置普通用户具有 root 权"></a>sudo 设置普通用户具有 root 权</h3><blockquote>
<p>普通用户不可以访问另外一个普通用户的根目录</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># su tom</span>
<span class="token punctuation">[</span>tom@lz88 home<span class="token punctuation">]</span>$ <span class="token function">ls</span> <span class="token punctuation">..</span>/lz
ls: 无法访问<span class="token punctuation">..</span>/lz: 权限不够
<span class="token punctuation">[</span>tom@lz88 home<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">ls</span> <span class="token punctuation">..</span>/lz

We trust you have received the usual lecture from the <span class="token builtin class-name">local</span> System
Administrator. It usually boils down to these three things:

    <span class="token comment">#1) Respect the privacy of others.</span>
    <span class="token comment">#2) Think before you type.</span>
    <span class="token comment">#3) With great power comes great responsibility.</span>

<span class="token punctuation">[</span>sudo<span class="token punctuation">]</span> password <span class="token keyword">for</span> tom: 
tom 不在 sudoers 文件中。此事将被报告。<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p><strong>修改超级管理员中的配置文件（/etc/sudoers）</strong>，找到下面一行(91 行)，在root下面添加一行</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/sudoers</span>
<span class="token punctuation">..</span>. 
root    <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       ALL
tom     <span class="token assign-left variable">ALL</span><span class="token operator">=</span><span class="token punctuation">(</span>ALL<span class="token punctuation">)</span>       ALL
<span class="token punctuation">..</span>.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>再次切换到普通用户tom，就可以访问其他普通用户的根目录了</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># su tom</span>
<span class="token punctuation">[</span>tom@lz88 home<span class="token punctuation">]</span>$ <span class="token function">sudo</span> <span class="token function">ls</span> lz
Myfoler  Myinfo  公共  模板  视频  图片  文档  下载  音乐  桌面<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h2 id="用户组管理命令"><a href="#用户组管理命令" class="headerlink" title="用户组管理命令"></a>用户组管理命令</h2><h3 id="groupadd-新增组"><a href="#groupadd-新增组" class="headerlink" title="groupadd 新增组"></a>groupadd 新增组</h3><blockquote>
<p><strong>基本语法：<code>groupadd 组名</code></strong></p>
</blockquote>
<h3 id="groupdel-删除组"><a href="#groupdel-删除组" class="headerlink" title="groupdel 删除组"></a>groupdel 删除组</h3><blockquote>
<p><strong>基本语法：<code>groupdel 组名</code></strong></p>
</blockquote>
<h3 id="usermod-修改用户"><a href="#usermod-修改用户" class="headerlink" title="usermod 修改用户"></a>usermod 修改用户</h3><blockquote>
<p><strong><code>usermod -g 用户组 用户</code>：修改用户的组</strong></p>
<p><strong><code>usermod -l 新用户名 旧用户名</code>：修改用户名</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 home<span class="token punctuation">]</span><span class="token comment"># usermod -g sd tom</span>
<span class="token punctuation">[</span>root@lz88 home<span class="token punctuation">]</span><span class="token comment"># usermod -g sd wmy</span>
<span class="token punctuation">[</span>root@lz88 home<span class="token punctuation">]</span><span class="token comment"># id tom</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1003</span><span class="token punctuation">(</span>sd<span class="token punctuation">)</span> 组<span class="token operator">=</span><span class="token number">1003</span><span class="token punctuation">(</span>sd<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@lz88 home<span class="token punctuation">]</span><span class="token comment"># id wmy</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1002</span><span class="token punctuation">(</span>wmy<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1003</span><span class="token punctuation">(</span>sd<span class="token punctuation">)</span> 组<span class="token operator">=</span><span class="token number">1003</span><span class="token punctuation">(</span>sd<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="groupmod-修改组"><a href="#groupmod-修改组" class="headerlink" title="groupmod 修改组"></a>groupmod 修改组</h3><blockquote>
<p><strong>基本语法：<code>groupmod -n 新组名 老组名</code></strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 home<span class="token punctuation">]</span><span class="token comment"># groupmod -n shandong sd</span>
<span class="token punctuation">[</span>root@lz88 home<span class="token punctuation">]</span><span class="token comment"># id tom</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1001</span><span class="token punctuation">(</span>tom<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1003</span><span class="token punctuation">(</span>shandong<span class="token punctuation">)</span> 组<span class="token operator">=</span><span class="token number">1003</span><span class="token punctuation">(</span>shandong<span class="token punctuation">)</span>
<span class="token punctuation">[</span>root@lz88 home<span class="token punctuation">]</span><span class="token comment"># id wmy</span>
<span class="token assign-left variable">uid</span><span class="token operator">=</span><span class="token number">1002</span><span class="token punctuation">(</span>wmy<span class="token punctuation">)</span> <span class="token assign-left variable">gid</span><span class="token operator">=</span><span class="token number">1003</span><span class="token punctuation">(</span>shandong<span class="token punctuation">)</span> 组<span class="token operator">=</span><span class="token number">1003</span><span class="token punctuation">(</span>shandong<span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="cat-x2F-etc-x2F-group-查看创建了哪些组"><a href="#cat-x2F-etc-x2F-group-查看创建了哪些组" class="headerlink" title="cat /etc/group 查看创建了哪些组"></a>cat /etc/group 查看创建了哪些组</h3><blockquote>
<p><strong>基本语法：<code>cat /etc/group</code></strong></p>
<p><strong>功能描述：查看创建了哪些组</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 home<span class="token punctuation">]</span><span class="token comment"># cat /etc/group</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span>
lz:x:1000:
tom:x:1001:
wmy:x:1002:
shandong:x:1003:<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="提问"><a href="#提问" class="headerlink" title="提问"></a>提问</h3><blockquote>
<p>问：为什么没有在/etc/sudoers中添加用户lz，为什么lz可以访问其他普通的用户？</p>
<p>答：因为在我们创建虚拟机时，创建的账号，自动给我们加入了管理员组wheel，并且/etc/sudoers中设置了wheel组的权限</p>
</blockquote>
<h2 id="文件权限类"><a href="#文件权限类" class="headerlink" title="文件权限类"></a>文件权限类</h2><h3 id="文件属性"><a href="#文件属性" class="headerlink" title="文件属性"></a>文件属性</h3><blockquote>
<p>在Linux中我们可以使用<code>ll</code>或者<code>ls -l</code>命令来显示一个文件的属性以及文件所属 的用户和组。</p>
</blockquote>
<h4 id="从左到右字符表示"><a href="#从左到右字符表示" class="headerlink" title="从左到右字符表示"></a>从左到右字符表示</h4><p><img src="/2022/08/31/linux/image-20220904152723071.png" alt="image-20220904152723071"></p>
<blockquote>
<ul>
<li><p>0 首位表示类型</p>
<p>在Linux中第一个字符代表这个文件是目录、文件或链接文件等等</p>
<ul>
<li><strong>- 代表文件</strong></li>
<li><strong>d 代表目录</strong></li>
<li><strong>l 链接文档(link file)</strong></li>
</ul>
</li>
<li><p><strong>第1-3位确定属主（该文件的所有者）拥有该文件的权限。—User</strong></p>
</li>
<li><p><strong>第4-6位确定属组（所有者的同组用户）拥有该文件的权限，—Group</strong></p>
</li>
<li><p><strong>第7-9位确定其他用户拥有该文件的权限 —Other</strong></p>
</li>
</ul>
</blockquote>
<h4 id="rwx-作用文件和目录的不同解释"><a href="#rwx-作用文件和目录的不同解释" class="headerlink" title="rwx 作用文件和目录的不同解释"></a>rwx 作用文件和目录的不同解释</h4><blockquote>
<ul>
<li><strong>作用到文件：</strong><ul>
<li><strong>[ r ]代表可读(read): 可以读取，查看</strong> </li>
<li><strong>[ w ]代表可写(write): 可以修改，但是不代表可以删除该文件，删除一个文件的前 提条件是对该文件所在的目录有写权限，才能删除该文件.</strong></li>
<li><strong>[ x ]代表可执行(execute):可以被系统执行</strong></li>
</ul>
</li>
<li><strong>作用到目录：</strong><ul>
<li><strong>[ r ]代表可读(read): 可以读取，ls查看目录内容</strong></li>
<li><strong>[ w ]代表可写(write): 可以修改，目录内创建+删除+重命名目录</strong></li>
<li><strong>[ x ]代表可执行(execute):可以进入该目录</strong></li>
</ul>
</li>
</ul>
</blockquote>
<h4 id="实例-2"><a href="#实例-2" class="headerlink" title="实例"></a>实例</h4><p><img src="/2022/08/31/linux/image-20220904153733344.png" alt="image-20220904153733344"></p>
<blockquote>
<ul>
<li><strong>如果查看到是文件：链接数指的是硬链接个数。</strong> </li>
<li><strong>如果查看的是文件夹：链接数指的是子文件夹个</strong></li>
</ul>
</blockquote>
<h3 id="chmod-改变权限"><a href="#chmod-改变权限" class="headerlink" title="chmod 改变权限"></a>chmod 改变权限</h3><p><img src="/2022/08/31/linux/image-20220904155200921.png" alt="image-20220904155200921"></p>
<blockquote>
<ol>
<li><strong>第一种方式变更权限：<code>chmod [{ugoa}{+-=}{rwx}] 文件或目录</code></strong> <ul>
<li><strong>u:所有者 g:所有组 o:其他人 a:所有人(u、g、o 的总和)</strong></li>
</ul>
</li>
<li><strong>第二种方式变更权限：<code>chmod [mode=421 ] [文件或目录]</code></strong><ul>
<li><strong>r=4 w=2 x=1 rwx=4+2+1=7</strong></li>
</ul>
</li>
</ol>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># chmod u+x hello</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
-rwxr--r--. <span class="token number">1</span> root root <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># chmod g=wx hello</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
-rwx-wxr--. <span class="token number">1</span> root root <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello

<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># chmod 777 hello</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
-rwxrwxrwx. <span class="token number">1</span> root root <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># chmod 644 hello</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="经验技巧-4"><a href="#经验技巧-4" class="headerlink" title="经验技巧"></a>经验技巧</h4><blockquote>
<p><strong>修改整个文件夹里面的所有文件的所有者、所属组、其他用户权限需要<code>-R</code>表示递归所有目录</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
drwxr-xr-x. <span class="token number">2</span> root root  <span class="token number">6</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># cd demo</span>
<span class="token punctuation">[</span>root@lz88 demo<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">0</span>
drwxr-xr-x. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo01
<span class="token punctuation">[</span>root@lz88 demo<span class="token punctuation">]</span><span class="token comment"># cd ..</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># chmod -R 644 demo</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
drw-r--r--. <span class="token number">3</span> root root <span class="token number">20</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># cd demo</span>
<span class="token punctuation">[</span>root@lz88 demo<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">0</span>
drw-r--r--. <span class="token number">2</span> root root <span class="token number">6</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo01<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="chown-改变所有者"><a href="#chown-改变所有者" class="headerlink" title="chown 改变所有者"></a>chown 改变所有者</h3><blockquote>
<p><strong>基本语法：<code>chown [选项] [最终用户] [文件或目录]</code></strong> </p>
<p><strong>功能描述：改变文件或者目录的所有者</strong></p>
<p><strong>选项：<code>-R</code> 递归操作</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
drw-r--r--. <span class="token number">3</span> root root <span class="token number">20</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># chown lz hello</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
drw-r--r--. <span class="token number">3</span> root root <span class="token number">20</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo
-rw-r--r--. <span class="token number">1</span> lz   root <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># chown -R lz demo</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
drw-r--r--. <span class="token number">3</span> lz root <span class="token number">20</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo
-rw-r--r--. <span class="token number">1</span> lz root <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># cd demo</span>
<span class="token punctuation">[</span>root@lz88 demo<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">0</span>
drw-r--r--. <span class="token number">2</span> lz root <span class="token number">6</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo01<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="chgrp-改变所属组"><a href="#chgrp-改变所属组" class="headerlink" title="chgrp 改变所属组"></a>chgrp 改变所属组</h3><blockquote>
<p><strong>基本语法：<code>chgrp [选项] [最终用户组] [文件或目录]</code></strong> </p>
<p><strong>功能描述：改变文件或者目录的所属组</strong></p>
<p><strong>选项：<code>-R</code> 递归操作</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
drw-r--r--. <span class="token number">3</span> lz root <span class="token number">20</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo
-rw-r--r--. <span class="token number">1</span> lz root <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># chgrp lz hello</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
drw-r--r--. <span class="token number">3</span> lz root <span class="token number">20</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo
-rw-r--r--. <span class="token number">1</span> lz lz   <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># chgrp -R lz demo</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">4</span>
drw-r--r--. <span class="token number">3</span> lz lz <span class="token number">20</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo
-rw-r--r--. <span class="token number">1</span> lz lz <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># cd demo</span>
<span class="token punctuation">[</span>root@lz88 demo<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">0</span>
drw-r--r--. <span class="token number">2</span> lz lz <span class="token number">6</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo01<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="搜索查找类"><a href="#搜索查找类" class="headerlink" title="搜索查找类"></a>搜索查找类</h2><h3 id="find-查找文件或者目录"><a href="#find-查找文件或者目录" class="headerlink" title="find 查找文件或者目录"></a>find 查找文件或者目录</h3><blockquote>
<p><strong>基本语法：<code>find [搜索范围] [选项]</code></strong></p>
<p><strong>功能描述：find 指令将从指定目录向下递归地遍历其各个子目录，将满足条件的文件显示在终端。</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-name&lt;查询方式&gt;</td>
<td>按照指定的文件名查找模式查找文件</td>
</tr>
<tr>
<td>-user&lt;用户名&gt;</td>
<td>查找属于指定用户名所有文件</td>
</tr>
<tr>
<td>-size&lt;文件大小&gt;</td>
<td>按照指定的文件大小查找文件,单位为: <br>b —— 块（512 字节）<br>c —— 字节 <br>w —— 字（2 字节） <br>k —— 千字节 <br>M —— 兆字节 <br>G —— 吉字节</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># find /root -name info</span>
/root/.local/share/Trash/info
/root/.local/share/Trash/files/info
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># find /root -user lz</span>
/root/桌面/hello
/root/桌面/demo
/root/桌面/demo/demo01<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="locate-快速定位文件路径"><a href="#locate-快速定位文件路径" class="headerlink" title="locate 快速定位文件路径"></a>locate 快速定位文件路径</h3><blockquote>
<ul>
<li>locate 指令利用事先建立的系统中所有文件名称及路径的 locate 数据库实现快速定位给 定的文件。Locate 指令无需遍历整个文件系统，查询速度较快。为了保证查询结果的准确度，管理员必须定期更新 locate 时刻。 </li>
<li><strong>基本语法：<code>locate 搜索文件</code></strong> </li>
<li><strong>经验技巧：由于 <code>locate</code> 指令基于数据库进行查询，所以第一次运行前，必须使用 <code>updatedb</code> 指令创建 locate 数据库。</strong></li>
</ul>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># updatedb</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># locate tmp</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<h3 id="grep-内容过滤查找及“-”管道符"><a href="#grep-内容过滤查找及“-”管道符" class="headerlink" title="grep 内容过滤查找及“|”管道符"></a>grep 内容过滤查找及“|”管道符</h3><blockquote>
<p><strong>管道符，“|”，表示将前一个命令的处理结果输出传递给后面的命令处理</strong></p>
<p><strong>基本语法：<code>grep [选项] 查找内容 源文件</code></strong> </p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-n</td>
<td>显示匹配行及行号</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>经验技巧：wc将计算指定文件的行数、字数，以及字节数。</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">anaconda-ks.cfg  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># grep -n boot initial-setup-ks.cfg </span>
<span class="token number">5</span>:xconfig  <span class="token parameter variable">--startxonboot</span>
<span class="token number">14</span>:firstboot <span class="token parameter variable">--disable</span>
<span class="token number">26</span>:network  <span class="token parameter variable">--bootproto</span><span class="token operator">=</span>dhcp <span class="token parameter variable">--device</span><span class="token operator">=</span>link
<span class="token number">27</span>:network  <span class="token parameter variable">--bootproto</span><span class="token operator">=</span>dhcp <span class="token parameter variable">--hostname</span><span class="token operator">=</span>localhost.localdomain
<span class="token number">28</span>:<span class="token comment"># Reboot after installation</span>
<span class="token number">29</span>:reboot
<span class="token number">34</span>:<span class="token comment"># System bootloader configuration</span>
<span class="token number">35</span>:bootloader <span class="token parameter variable">--append</span><span class="token operator">=</span><span class="token string">" crashkernel=auto"</span> <span class="token parameter variable">--location</span><span class="token operator">=</span>mbr --boot-drive<span class="token operator">=</span>sda
<span class="token number">41</span>:part /boot <span class="token parameter variable">--fstype</span><span class="token operator">=</span><span class="token string">"xfs"</span> <span class="token parameter variable">--size</span><span class="token operator">=</span><span class="token number">300</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># grep -n boot initial-setup-ks.cfg | wc</span>
      <span class="token number">9</span>      <span class="token number">28</span>     <span class="token number">347</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls | grep .cfg</span>
anaconda-ks.cfg
initial-setup-ks.cfg
original-ks.cfg<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="压缩和解压类"><a href="#压缩和解压类" class="headerlink" title="压缩和解压类"></a>压缩和解压类</h2><h3 id="gzip-x2F-gunzip-压缩"><a href="#gzip-x2F-gunzip-压缩" class="headerlink" title="gzip/gunzip 压缩"></a>gzip/gunzip 压缩</h3><blockquote>
<ul>
<li><em><em><code>gzip 文件</code>：压缩文件，只能将文件压缩为</em>.gz 文件</em>*</li>
<li><strong><code>gunzip 文件.gz</code> ：解压缩文件命令</strong></li>
</ul>
</blockquote>
<h4 id="经验技巧-5"><a href="#经验技巧-5" class="headerlink" title="经验技巧"></a>经验技巧</h4><blockquote>
<ol>
<li><strong>只能压缩文件不能压缩目录</strong> </li>
<li><strong>不保留原来的文件</strong> </li>
<li><strong>同时多个文件会产生多个压缩包</strong></li>
</ol>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
anaconda-ks.cfg  info  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># gzip info</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
anaconda-ks.cfg  info.gz  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># gunzip info.gz</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
anaconda-ks.cfg  info  initial-setup-ks.cfg  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="zip-x2F-unzip-压缩"><a href="#zip-x2F-unzip-压缩" class="headerlink" title="zip/unzip 压缩"></a>zip/unzip 压缩</h3><blockquote>
<ul>
<li><strong><code>zip [选项] XXX.zip 将要压缩的内容</code>：压缩文件和目录的命令</strong></li>
<li><strong><code>unzip [选项] XXX.zip</code>：解压缩文件</strong></li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>zip 选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-r</td>
<td>压缩目录</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>unzip 选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-d&lt;目录&gt;</td>
<td>指定解压后文件的存放目录</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># zip -r Myroot.zip /root</span>
  adding: root/ <span class="token punctuation">(</span>stored <span class="token number">0</span>%<span class="token punctuation">)</span>
  adding: root/.bash_logout <span class="token punctuation">(</span>stored <span class="token number">0</span>%<span class="token punctuation">)</span>
  adding: root/.bash_profile <span class="token punctuation">(</span>deflated <span class="token number">19</span>%<span class="token punctuation">)</span>
  adding: root/.bashrc <span class="token punctuation">(</span>deflated <span class="token number">29</span>%<span class="token punctuation">)</span>
  adding: root/.cshrc <span class="token punctuation">(</span>deflated <span class="token number">24</span>%<span class="token punctuation">)</span>
  adding: root/.tcshrc <span class="token punctuation">(</span>deflated <span class="token number">22</span>%<span class="token punctuation">)</span>
  adding: root/original-ks.cfg <span class="token punctuation">(</span>deflated <span class="token number">59</span>%<span class="token punctuation">)</span>
  adding: root/anaconda-ks.cfg <span class="token punctuation">(</span>deflated <span class="token number">59</span>%<span class="token punctuation">)</span>
  <span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ls</span>
anaconda-ks.cfg  info  initial-setup-ks.cfg  Myroot.zip  original-ks.cfg  公共  模板  视频  图片  文档  下载  音乐  桌面
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># unzip -d ./temp Myroot.zip</span>
Archive:  Myroot.zip
   creating: ./temp/root/
 extracting: ./temp/root/.bash_logout  
  inflating: ./temp/root/.bash_profile  
 <span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">9408</span>
-rw-------. <span class="token number">1</span> root root    <span class="token number">2747</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 anaconda-ks.cfg
-rw-r--r--. <span class="token number">1</span> root root    <span class="token number">2755</span> <span class="token number">9</span>月   <span class="token number">5</span> <span class="token number">11</span>:57 info
-rw-r--r--. <span class="token number">1</span> root root    <span class="token number">2755</span> <span class="token number">8</span>月  <span class="token number">31</span> <span class="token number">16</span>:03 initial-setup-ks.cfg
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">9616437</span> <span class="token number">9</span>月   <span class="token number">5</span> <span class="token number">12</span>:01 Myroot.zip
-rw-------. <span class="token number">1</span> root root    <span class="token number">2038</span> <span class="token number">9</span>月   <span class="token number">1</span> 00:00 original-ks.cfg
drwxr-xr-x. <span class="token number">3</span> root root      <span class="token number">18</span> <span class="token number">9</span>月   <span class="token number">5</span> <span class="token number">12</span>:02 temp<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="经验技巧-6"><a href="#经验技巧-6" class="headerlink" title="经验技巧"></a>经验技巧</h4><blockquote>
<p>zip 压缩命令在windows/linux都通用，可以压缩目录且保留源文件。</p>
</blockquote>
<h3 id="tar-打包"><a href="#tar-打包" class="headerlink" title="tar 打包"></a>tar 打包</h3><blockquote>
<p><strong>基本语法：<code>tar [选项] XXX.tar.gz 将要打包进去的内容</code></strong> </p>
<p><strong>功能描述：打包目录，压缩后的 文件格式<code>.tar.gz</code></strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-c（create）</td>
<td>产生<code>.tar</code> 打包文件</td>
</tr>
<tr>
<td>-v（verbose）</td>
<td>显示详细信息</td>
</tr>
<tr>
<td>-f（file）</td>
<td>指定压缩后的文件名</td>
</tr>
<tr>
<td>-z（gzip/gunzip）</td>
<td>打包同时压缩</td>
</tr>
<tr>
<td>-x（extract）</td>
<td>解包.tar 文件</td>
</tr>
<tr>
<td>-C</td>
<td>解压到指定目录</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># tar -zcvf MyHello.tar.gz demo hello</span>
demo/
demo/demo01/
hello
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ll</span>
总用量 <span class="token number">8</span>
drw-r--r--. <span class="token number">3</span> lz   lz    <span class="token number">20</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:56 demo
-rw-r--r--. <span class="token number">1</span> lz   lz    <span class="token number">12</span> <span class="token number">9</span>月   <span class="token number">4</span> <span class="token number">15</span>:35 hello
-rw-r--r--. <span class="token number">1</span> root root <span class="token number">175</span> <span class="token number">9</span>月   <span class="token number">5</span> <span class="token number">12</span>:20 MyHello.tar.gz
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># mkdir temp</span>
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># ls</span>
demo  hello  MyHello.tar.gz  temp
<span class="token punctuation">[</span>root@lz88 桌面<span class="token punctuation">]</span><span class="token comment"># tar -zxvf MyHello.tar.gz -C temp</span>
demo/
demo/demo01/
hello<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="磁盘查看和分区类"><a href="#磁盘查看和分区类" class="headerlink" title="磁盘查看和分区类"></a>磁盘查看和分区类</h2><h3 id="du-查看文件和目录占用的磁盘空间"><a href="#du-查看文件和目录占用的磁盘空间" class="headerlink" title="du 查看文件和目录占用的磁盘空间"></a>du 查看文件和目录占用的磁盘空间</h3><blockquote>
<ul>
<li><p><strong>du: disk usage磁盘占用情况</strong></p>
</li>
<li><p><strong>基本语法：<code>du [选项] 目录/文件</code></strong></p>
</li>
<li><p><strong>功能描述：显示目录下每个子目录的磁盘使用情况</strong></p>
</li>
</ul>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-h（human-readable）</td>
<td>以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示</td>
</tr>
<tr>
<td>-a（all）</td>
<td>不仅查看子目录大小，还要包括文件</td>
</tr>
<tr>
<td>-c（total）</td>
<td>显示所有的文件和子目录大小后，显示总和</td>
</tr>
<tr>
<td>-s（summarize）</td>
<td>只显示总和</td>
</tr>
<tr>
<td>–max-depth=n</td>
<td>指定统计子目录的深度为第 n 层</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 /<span class="token punctuation">]</span><span class="token comment"># du /tmp</span>
<span class="token number">0</span>       /tmp/hsperfdata_root
<span class="token number">0</span>       /tmp/.font-unix
<span class="token number">0</span>       /tmp/.X11-unix
<span class="token number">0</span>       /tmp/.Test-unix
<span class="token number">0</span>       /tmp/.ICE-unix
<span class="token number">0</span>       /tmp/.XIM-unix
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-colord.service-QBKfqH/tmp
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-colord.service-QBKfqH
<span class="token number">0</span>       /tmp/.esd-0
<span class="token number">0</span>       /tmp/tracker-extract-files.0
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-cups.service-suPOYq/tmp
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-cups.service-suPOYq
<span class="token number">0</span>       /tmp/.esd-1000
<span class="token number">0</span>       /tmp/tracker-extract-files.1000
<span class="token number">0</span>       /tmp/hsperfdata_lz
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-vmtoolsd.service-jJiC2W/tmp/vmware-root
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-vmtoolsd.service-jJiC2W/tmp
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-vmtoolsd.service-jJiC2W
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-rtkit-daemon.service-eLBg8l/tmp
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-rtkit-daemon.service-eLBg8l
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-vmtoolsd.service-YHaZ4j/tmp/vmware-root
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-vmtoolsd.service-YHaZ4j/tmp
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-vmtoolsd.service-YHaZ4j
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-cups.service-96U10z/tmp
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-cups.service-96U10z
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-colord.service-OG8cS0/tmp
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-colord.service-OG8cS0
<span class="token number">0</span>       /tmp/ssh-cPHvYAuPdNVG
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-rtkit-daemon.service-vY1L3q/tmp
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-rtkit-daemon.service-vY1L3q
<span class="token number">0</span>       /tmp/ssh-5p8FFzr7qHXq
<span class="token number">5080</span>    /tmp
<span class="token punctuation">[</span>root@lz88 /<span class="token punctuation">]</span><span class="token comment"># du -h /tmp</span>
<span class="token number">0</span>       /tmp/hsperfdata_root
<span class="token number">0</span>       /tmp/.font-unix
<span class="token number">0</span>       /tmp/.X11-unix
<span class="token number">0</span>       /tmp/.Test-unix
<span class="token number">0</span>       /tmp/.ICE-unix
<span class="token number">0</span>       /tmp/.XIM-unix
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-colord.service-QBKfqH/tmp
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-colord.service-QBKfqH
<span class="token number">0</span>       /tmp/.esd-0
<span class="token number">0</span>       /tmp/tracker-extract-files.0
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-cups.service-suPOYq/tmp
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-cups.service-suPOYq
<span class="token number">0</span>       /tmp/.esd-1000
<span class="token number">0</span>       /tmp/tracker-extract-files.1000
<span class="token number">0</span>       /tmp/hsperfdata_lz
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-vmtoolsd.service-jJiC2W/tmp/vmware-root
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-vmtoolsd.service-jJiC2W/tmp
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-vmtoolsd.service-jJiC2W
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-rtkit-daemon.service-eLBg8l/tmp
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-rtkit-daemon.service-eLBg8l
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-vmtoolsd.service-YHaZ4j/tmp/vmware-root
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-vmtoolsd.service-YHaZ4j/tmp
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-vmtoolsd.service-YHaZ4j
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-cups.service-96U10z/tmp
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-cups.service-96U10z
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-colord.service-OG8cS0/tmp
<span class="token number">0</span>       /tmp/systemd-private-fbfa2388ab8a4174a8a1be7fa3adb6c4-colord.service-OG8cS0
<span class="token number">0</span>       /tmp/ssh-cPHvYAuPdNVG
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-rtkit-daemon.service-vY1L3q/tmp
<span class="token number">0</span>       /tmp/systemd-private-32a2fafd349b4540b1c96bfafd8c72f2-rtkit-daemon.service-vY1L3q
<span class="token number">0</span>       /tmp/ssh-5p8FFzr7qHXq
<span class="token number">5</span>.0M    /tmp
<span class="token punctuation">[</span>root@lz88 /<span class="token punctuation">]</span><span class="token comment"># du -sch /tmp</span>
<span class="token number">5</span>.0M    /tmp
<span class="token number">5</span>.0M    总用量<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="df-查看磁盘空间使用情况"><a href="#df-查看磁盘空间使用情况" class="headerlink" title="df 查看磁盘空间使用情况"></a>df 查看磁盘空间使用情况</h3><blockquote>
<p><strong>df: disk free 空余磁盘</strong></p>
<p><strong>基本语法：<code>df 选项</code></strong> </p>
<p><strong>功能描述：列出文件系统的整体磁盘使用量，检查文件系统的磁盘空间占用情况</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-h</td>
<td>以人们较易阅读的 GBytes, MBytes, KBytes 等格式自行显示</td>
</tr>
</tbody></table>
<blockquote>
<p><strong>free指令会显示内存的使用情况，包括实体内存，虚拟的交换文件内存，共享内存区段，以及系统核心使用的缓冲区等。</strong></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># df -h</span>
文件系统        容量  已用  可用 已用% 挂载点
/dev/sda3        18G  <span class="token number">5</span>.1G   13G   <span class="token number">29</span>% /
devtmpfs        898M     <span class="token number">0</span>  898M    <span class="token number">0</span>% /dev
tmpfs           912M  144K  912M    <span class="token number">1</span>% /dev/shm
tmpfs           912M  <span class="token number">9</span>.0M  903M    <span class="token number">1</span>% /run
tmpfs           912M     <span class="token number">0</span>  912M    <span class="token number">0</span>% /sys/fs/cgroup
/dev/sda1       297M  152M  146M   <span class="token number">51</span>% /boot
tmpfs           183M   12K  183M    <span class="token number">1</span>% /run/user/0
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># free -h</span>
              total        used        <span class="token function">free</span>      shared  buff/cache   available
Mem:           <span class="token number">1</span>.8G        521M        787M         10M        514M        <span class="token number">1</span>.1G
Swap:          <span class="token number">2</span>.0G          0B        <span class="token number">2</span>.0G<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="lsblk-查看设备挂载情况"><a href="#lsblk-查看设备挂载情况" class="headerlink" title="lsblk 查看设备挂载情况"></a>lsblk 查看设备挂载情况</h3><blockquote>
<p><strong>基本语法：<code>lsblk</code></strong> </p>
<p><strong>功能描述：查看设备挂载情况</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>查看详细的设备挂载情况，显示文件系统信息</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>  300M  <span class="token number">0</span> part /boot
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span>    2G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
└─sda3   <span class="token number">8</span>:3    <span class="token number">0</span> <span class="token number">17</span>.7G  <span class="token number">0</span> part /
sr0     <span class="token number">11</span>:0    <span class="token number">1</span>  <span class="token number">4</span>.1G  <span class="token number">0</span> rom  
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE  LABEL           UUID                                 MOUNTPOINT
sda                                                                 
├─sda1 xfs                     9fa7924f-48a6-43fb-a39e-bdcde680a0f8 /boot
├─sda2 swap                    194b700f-2779-445e-9e05-feca7c05ece0 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
└─sda3 xfs                     63e8e069-1adb-474c-924f-86072b04656b /
sr0    iso9660 CentOS <span class="token number">7</span> x86_64 <span class="token number">2016</span>-12-05-13-55-45-00 <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="mount-x2F-umount-挂载-x2F-卸载"><a href="#mount-x2F-umount-挂载-x2F-卸载" class="headerlink" title="mount/umount 挂载/卸载"></a>mount/umount 挂载/卸载</h3><blockquote>
<p>对于Linux用户来讲，不论有几个分区，分别分给哪一个目录使用，它总归就是一个根目录、一个独立且唯一的文件结构。 Linux中每个分区都是用来组成整个文件系统的一部分，它在用一种叫做“挂载”的处理 方法，它整个文件系统中包含了一整套的文件和目录，并将一个分区和一个目录联系起来， 要载入的那个分区将使它的存储空间在这个目录下获得。</p>
</blockquote>
<blockquote>
<p><strong><code>mount [-t vfstype] [-o options] device dir</code> ：挂载设备</strong></p>
<p><strong><code>umount 设备文件名或挂载点</code> ：卸载设备</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>参数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-t vfstype</td>
<td>指定文件系统的类型，<strong>通常不必指定</strong>。mount 会自动选择正确的类型。常用类型有： <br>光盘或光盘镜像：iso9660<br>DOS fat16 文件系统：msdos<br>Windows 9x fat32 文件系统：vfat<br>Windows NT ntfs 文件系统：ntfs<br>Mount Windows 文件网络共享：smbfs<br>UNIX(LINUX) 文件网络共享：nfs</td>
</tr>
<tr>
<td>-o options</td>
<td>主要用来描述设备或档案的挂接方式。常用的参数有： <br>loop：用来把一个文件当成硬盘分区挂接上系统 <br>ro：采用只读方式挂接设备 <br>rw：采用读写方式挂接设备 <br>iocharset：指定访问文件系统所用字符集</td>
</tr>
<tr>
<td>device</td>
<td>要挂接(mount)的设备</td>
</tr>
<tr>
<td>dir</td>
<td>设备在系统上的挂接点(mount point)</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>  300M  <span class="token number">0</span> part /boot
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span>    2G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
└─sda3   <span class="token number">8</span>:3    <span class="token number">0</span> <span class="token number">17</span>.7G  <span class="token number">0</span> part /
sr0     <span class="token number">11</span>:0    <span class="token number">1</span>  <span class="token number">4</span>.1G  <span class="token number">0</span> rom  
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># mkdir /mnt/cdrom</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># mount /dev/cdrom /mnt/cdrom</span>
mount: /dev/sr0 写保护，将以只读方式挂载
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>  300M  <span class="token number">0</span> part /boot
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span>    2G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
└─sda3   <span class="token number">8</span>:3    <span class="token number">0</span> <span class="token number">17</span>.7G  <span class="token number">0</span> part /
sr0     <span class="token number">11</span>:0    <span class="token number">1</span>  <span class="token number">4</span>.1G  <span class="token number">0</span> rom  /mnt/cdrom
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># umount /mnt/cdrom</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># lsblk</span>
NAME   MAJ:MIN RM  SIZE RO TYPE MOUNTPOINT
sda      <span class="token number">8</span>:0    <span class="token number">0</span>   20G  <span class="token number">0</span> disk 
├─sda1   <span class="token number">8</span>:1    <span class="token number">0</span>  300M  <span class="token number">0</span> part /boot
├─sda2   <span class="token number">8</span>:2    <span class="token number">0</span>    2G  <span class="token number">0</span> part <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
└─sda3   <span class="token number">8</span>:3    <span class="token number">0</span> <span class="token number">17</span>.7G  <span class="token number">0</span> part /
sr0     <span class="token number">11</span>:0    <span class="token number">1</span>  <span class="token number">4</span>.1G  <span class="token number">0</span> rom <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="设置开机自动挂载"><a href="#设置开机自动挂载" class="headerlink" title="设置开机自动挂载"></a>设置开机自动挂载</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># vim /etc/fstab</span>

<span class="token assign-left variable">UUID</span><span class="token operator">=</span>63e8e069-1adb-474c-924f-86072b04656b /                       xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>9fa7924f-48a6-43fb-a39e-bdcde680a0f8 /boot                   xfs     defaults        <span class="token number">0</span> <span class="token number">0</span>
<span class="token assign-left variable">UUID</span><span class="token operator">=</span>194b700f-2779-445e-9e05-feca7c05ece0 swap                    swap    defaults        <span class="token number">0</span> <span class="token number">0</span>

/dev/cdrom                                /mnt/cdrom              iso9660 defaults        <span class="token number">0</span> <span class="token number">0</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="fdisk-分区"><a href="#fdisk-分区" class="headerlink" title="fdisk 分区"></a>fdisk 分区</h3><blockquote>
<ul>
<li><p><strong><code>fdisk -l</code>：查看磁盘分区详情</strong></p>
</li>
<li><p><strong><code>fdisk 硬盘设备名 </code>：对新增硬盘进行分区操作</strong></p>
</li>
<li><p><strong>经验技巧：该命令必须在 root 用户下才能使用</strong></p>
</li>
<li><p>功能说明 </p>
<ol>
<li><p>Linux 分区</p>
<p>Device：分区序列</p>
<p>Boot：引导</p>
<p>Start：从X磁柱开始</p>
<p>End：到Y磁柱结束</p>
<p>Blocks：容量</p>
<p>Id：分区类型ID</p>
<p>System：分区类型 </p>
</li>
<li><p>分区操作按键说明 </p>
<p><strong>m：显示命令列表</strong> </p>
<p><strong>p：显示当前磁盘分区</strong> </p>
<p><strong>n：新增分区</strong> </p>
<p><strong>w：写入分区信息并退出</strong> </p>
<p><strong>q：不保存分区信息直接退出</strong></p>
</li>
</ol>
</li>
</ul>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># fdisk -l</span>

磁盘 /dev/sda：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x000bac6e

   设备 Boot      Start         End      Blocks   Id  System
/dev/sda1   *        <span class="token number">2048</span>      <span class="token number">616447</span>      <span class="token number">307200</span>   <span class="token number">83</span>  Linux
/dev/sda2          <span class="token number">616448</span>     <span class="token number">4810751</span>     <span class="token number">2097152</span>   <span class="token number">82</span>  Linux swap / Solaris
/dev/sda3         <span class="token number">4810752</span>    <span class="token number">41943039</span>    <span class="token number">18566144</span>   <span class="token number">83</span>  Linux

<span class="token comment"># 添加硬盘</span>

<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># fdisk -l</span>

磁盘 /dev/sdb：10.7 GB, <span class="token number">10737418240</span> 字节，20971520 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节


磁盘 /dev/sda：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x000bac6e

   设备 Boot      Start         End      Blocks   Id  System
/dev/sda1   *        <span class="token number">2048</span>      <span class="token number">616447</span>      <span class="token number">307200</span>   <span class="token number">83</span>  Linux
/dev/sda2          <span class="token number">616448</span>     <span class="token number">4810751</span>     <span class="token number">2097152</span>   <span class="token number">82</span>  Linux swap / Solaris
/dev/sda3         <span class="token number">4810752</span>    <span class="token number">41943039</span>    <span class="token number">18566144</span>   <span class="token number">83</span>  Linux

<span class="token comment"># 分区</span>

<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># fdisk /dev/sdb</span>
欢迎使用 <span class="token function">fdisk</span> <span class="token punctuation">(</span>util-linux <span class="token number">2.23</span>.2<span class="token punctuation">)</span>。

更改将停留在内存中，直到您决定将更改写入磁盘。
使用写入命令前请三思。

Device does not contain a recognized partition table
使用磁盘标识符 0xee11d007 创建新的 DOS 磁盘标签。

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：n
Partition type:
   p   primary <span class="token punctuation">(</span><span class="token number">0</span> primary, <span class="token number">0</span> extended, <span class="token number">4</span> <span class="token function">free</span><span class="token punctuation">)</span>
   e   extended
Select <span class="token punctuation">(</span>default p<span class="token punctuation">)</span>: p
分区号 <span class="token punctuation">(</span><span class="token number">1</span>-4，默认 <span class="token number">1</span><span class="token punctuation">)</span>：
起始 扇区 <span class="token punctuation">(</span><span class="token number">2048</span>-20971519，默认为 <span class="token number">2048</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">2048</span>
Last 扇区, +扇区 or +size<span class="token punctuation">{</span>K,M,G<span class="token punctuation">}</span> <span class="token punctuation">(</span><span class="token number">2048</span>-20971519，默认为 <span class="token number">20971519</span><span class="token punctuation">)</span>：
将使用默认值 <span class="token number">20971519</span>
分区 <span class="token number">1</span> 已设置为 Linux 类型，大小设为 <span class="token number">10</span> GiB

命令<span class="token punctuation">(</span>输入 m 获取帮助<span class="token punctuation">)</span>：w
The partition table has been altered<span class="token operator">!</span>

Calling ioctl<span class="token punctuation">(</span><span class="token punctuation">)</span> to re-read partition table.
正在同步磁盘。
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># fdisk -l</span>

磁盘 /dev/sdb：10.7 GB, <span class="token number">10737418240</span> 字节，20971520 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0xee11d007

   设备 Boot      Start         End      Blocks   Id  System
/dev/sdb1            <span class="token number">2048</span>    <span class="token number">20971519</span>    <span class="token number">10484736</span>   <span class="token number">83</span>  Linux

磁盘 /dev/sda：21.5 GB, <span class="token number">21474836480</span> 字节，41943040 个扇区
Units <span class="token operator">=</span> 扇区 of <span class="token number">1</span> * <span class="token number">512</span> <span class="token operator">=</span> <span class="token number">512</span> bytes
扇区大小<span class="token punctuation">(</span>逻辑/物理<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
I/O 大小<span class="token punctuation">(</span>最小/最佳<span class="token punctuation">)</span>：512 字节 / <span class="token number">512</span> 字节
磁盘标签类型：dos
磁盘标识符：0x000bac6e

   设备 Boot      Start         End      Blocks   Id  System
/dev/sda1   *        <span class="token number">2048</span>      <span class="token number">616447</span>      <span class="token number">307200</span>   <span class="token number">83</span>  Linux
/dev/sda2          <span class="token number">616448</span>     <span class="token number">4810751</span>     <span class="token number">2097152</span>   <span class="token number">82</span>  Linux swap / Solaris
/dev/sda3         <span class="token number">4810752</span>    <span class="token number">41943039</span>    <span class="token number">18566144</span>   <span class="token number">83</span>  Linux

<span class="token comment"># 格式化硬盘</span>

<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE  LABEL           UUID                                 MOUNTPOINT
sda                                                                 
├─sda1 xfs                     9fa7924f-48a6-43fb-a39e-bdcde680a0f8 /boot
├─sda2 swap                    194b700f-2779-445e-9e05-feca7c05ece0 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
└─sda3 xfs                     63e8e069-1adb-474c-924f-86072b04656b /
sdb                                                                 
└─sdb1                                                              
sr0    iso9660 CentOS <span class="token number">7</span> x86_64 <span class="token number">2016</span>-12-05-13-55-45-00               /mnt/cdrom
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># mkfs -t xfs /dev/sdb1</span>
meta-data<span class="token operator">=</span>/dev/sdb1              <span class="token assign-left variable">isize</span><span class="token operator">=</span><span class="token number">512</span>    <span class="token assign-left variable">agcount</span><span class="token operator">=</span><span class="token number">4</span>, <span class="token assign-left variable">agsize</span><span class="token operator">=</span><span class="token number">655296</span> blks
         <span class="token operator">=</span>                       <span class="token assign-left variable">sectsz</span><span class="token operator">=</span><span class="token number">512</span>   <span class="token assign-left variable">attr</span><span class="token operator">=</span><span class="token number">2</span>, <span class="token assign-left variable">projid32bit</span><span class="token operator">=</span><span class="token number">1</span>
         <span class="token operator">=</span>                       <span class="token assign-left variable">crc</span><span class="token operator">=</span><span class="token number">1</span>        <span class="token assign-left variable">finobt</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">sparse</span><span class="token operator">=</span><span class="token number">0</span>
data     <span class="token operator">=</span>                       <span class="token assign-left variable">bsize</span><span class="token operator">=</span><span class="token number">4096</span>   <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">2621184</span>, <span class="token assign-left variable">imaxpct</span><span class="token operator">=</span><span class="token number">25</span>
         <span class="token operator">=</span>                       <span class="token assign-left variable">sunit</span><span class="token operator">=</span><span class="token number">0</span>      <span class="token assign-left variable">swidth</span><span class="token operator">=</span><span class="token number">0</span> blks
naming   <span class="token operator">=</span>version <span class="token number">2</span>              <span class="token assign-left variable">bsize</span><span class="token operator">=</span><span class="token number">4096</span>   ascii-ci<span class="token operator">=</span><span class="token number">0</span> <span class="token assign-left variable">ftype</span><span class="token operator">=</span><span class="token number">1</span>
log      <span class="token operator">=</span>internal log           <span class="token assign-left variable">bsize</span><span class="token operator">=</span><span class="token number">4096</span>   <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">2560</span>, <span class="token assign-left variable">version</span><span class="token operator">=</span><span class="token number">2</span>
         <span class="token operator">=</span>                       <span class="token assign-left variable">sectsz</span><span class="token operator">=</span><span class="token number">512</span>   <span class="token assign-left variable">sunit</span><span class="token operator">=</span><span class="token number">0</span> blks, lazy-count<span class="token operator">=</span><span class="token number">1</span>
realtime <span class="token operator">=</span>none                   <span class="token assign-left variable">extsz</span><span class="token operator">=</span><span class="token number">4096</span>   <span class="token assign-left variable">blocks</span><span class="token operator">=</span><span class="token number">0</span>, <span class="token assign-left variable">rtextents</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE  LABEL           UUID                                 MOUNTPOINT
sda                                                                 
├─sda1 xfs                     9fa7924f-48a6-43fb-a39e-bdcde680a0f8 /boot
├─sda2 swap                    194b700f-2779-445e-9e05-feca7c05ece0 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
└─sda3 xfs                     63e8e069-1adb-474c-924f-86072b04656b /
sdb                                                                 
└─sdb1 xfs                     400a848a-847e-4db0-bc02-2d6164343fde 
sr0    iso9660 CentOS <span class="token number">7</span> x86_64 <span class="token number">2016</span>-12-05-13-55-45-00               /mnt/cdrom

<span class="token comment"># 挂载</span>

<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># mount /dev/sdb1 /home/tom</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># lsblk -f</span>
NAME   FSTYPE  LABEL           UUID                                 MOUNTPOINT
sda                                                                 
├─sda1 xfs                     9fa7924f-48a6-43fb-a39e-bdcde680a0f8 /boot
├─sda2 swap                    194b700f-2779-445e-9e05-feca7c05ece0 <span class="token punctuation">[</span>SWAP<span class="token punctuation">]</span>
└─sda3 xfs                     63e8e069-1adb-474c-924f-86072b04656b /
sdb                                                                 
└─sdb1 xfs                     400a848a-847e-4db0-bc02-2d6164343fde /home/tom
sr0    iso9660 CentOS <span class="token number">7</span> x86_64 <span class="token number">2016</span>-12-05-13-55-45-00               /mnt/cdrom
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="进程管理类"><a href="#进程管理类" class="headerlink" title="进程管理类"></a>进程管理类</h2><blockquote>
<p>进程是正在执行的一个程序或命令，每一个进程都是一个运行的实体，都有自己的地 址空间，并占用一定的系统资源。 </p>
</blockquote>
<h3 id="ps-查看当前系统进程状态"><a href="#ps-查看当前系统进程状态" class="headerlink" title="ps 查看当前系统进程状态"></a>ps 查看当前系统进程状态</h3><blockquote>
<ul>
<li><p>ps：process status 进程状态</p>
</li>
<li><p><strong><code>ps aux | grep xxx</code>：查看系统中所有进程</strong></p>
</li>
<li><p><strong><code>ps -ef | grep xxx</code> ：可以查看子父进程之间的关系</strong></p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>a</td>
<td>列出带有终端的所有用户的进程</td>
</tr>
<tr>
<td>x</td>
<td>列出当前用户的所有进程，包括没有终端的进程</td>
</tr>
<tr>
<td>u</td>
<td>面向用户友好的显示风格</td>
</tr>
<tr>
<td>-e</td>
<td>列出所有进程</td>
</tr>
<tr>
<td>-f</td>
<td>显示完整格式的进程列表</td>
</tr>
<tr>
<td>-u</td>
<td>列出某个用户关联的所有进程</td>
</tr>
</tbody></table>
</li>
<li><p>功能说明 </p>
<ol>
<li><p><code>ps aux</code> 显示信息说明</p>
<p>USER：该进程是由哪个用户产生的</p>
<p>PID：进程的 ID 号</p>
<p>%CPU：该进程占用 CPU 资源的百分比，占用越高，进程越耗费资源</p>
<p>%MEM：该进程占用物理内存的百分比，占用越高，进程越耗费资源</p>
<p>VSZ：该进程占用虚拟内存的大小，单位 KB</p>
<p>RSS：该进程占用实际物理内存的大小，单位 KB</p>
<p>TTY：该进程是在哪个终端中运行的。对于 CentOS 来说，tty1 是图形化终端。tty2-tty6 是本地的字符界面终端。pts/0-255 代表虚拟终端</p>
<p>STAT：进程状态。常见的状态有：R：运行状态、S：睡眠状态、T：暂停状态、 Z：僵尸状态、s：包含子进程、l：多线程、+：前台显示</p>
<p>START：该进程的启动时间</p>
<p>TIME：该进程占用 CPU 的运算时间，注意不是系统时间</p>
<p>COMMAND：产生此进程的命令名 </p>
</li>
<li><p><code>ps -ef</code> 显示信息说明</p>
<p>UID：用户 ID</p>
<p>PID：进程 ID</p>
<p>PPID：父进程 ID</p>
<p>C：CPU 用于计算执行优先级的因子。数值越大，表明进程是 CPU 密集型运算， 执行优先级会降低；数值越小，表明进程是 I/O 密集型运算，执行优先级会提高</p>
<p>STIME：进程启动的时间 TTY：完整的终端名称</p>
<p>TIME：CPU 时间</p>
<p>CMD：启动进程所用的命令和参数</p>
</li>
</ol>
</li>
<li><p>经验技巧：<strong>如果想查看进程的 CPU 占用率和内存占用率，可以使用 <code>aux</code>; 如果想查看进程的父进程 ID 可以使用 <code>-ef</code>;</strong></p>
</li>
</ul>
</blockquote>
<h3 id="pstree-查看进程树"><a href="#pstree-查看进程树" class="headerlink" title="pstree 查看进程树"></a>pstree 查看进程树</h3><blockquote>
<p><strong>基本语法：<code>pstree [选项]</code></strong></p>
<p><strong>功能描述：查看进程树</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-p</td>
<td>显示进程的 PID</td>
</tr>
<tr>
<td>-u</td>
<td>显示进程的所属用户</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># pstree -p |less</span>
systemd<span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>-+-ModemManager<span class="token punctuation">(</span><span class="token number">546</span><span class="token punctuation">)</span>-+-<span class="token punctuation">{</span>ModemManager<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">584</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>                   <span class="token variable"><span class="token variable">`</span>-<span class="token punctuation">{</span>ModemManager<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">616</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>-NetworkManager<span class="token punctuation">(</span><span class="token number">638</span><span class="token punctuation">)</span>-+-<span class="token punctuation">{</span>NetworkManager<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">658</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>                     <span class="token variable">`</span></span>-<span class="token punctuation">{</span>NetworkManager<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">662</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>-abrt-watch-log<span class="token punctuation">(</span><span class="token number">548</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>-abrt-watch-log<span class="token punctuation">(</span><span class="token number">565</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>-abrtd<span class="token punctuation">(</span><span class="token number">547</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>-accounts-daemon<span class="token punctuation">(</span><span class="token number">558</span><span class="token punctuation">)</span>-+-<span class="token punctuation">{</span>accounts-daemon<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">588</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>                      <span class="token variable"><span class="token variable">`</span>-<span class="token punctuation">{</span>accounts-daemon<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">614</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>-alsactl<span class="token punctuation">(</span><span class="token number">562</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>-anacron<span class="token punctuation">(</span><span class="token number">63975</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>-at-spi-bus-laun<span class="token punctuation">(</span><span class="token number">5102</span><span class="token punctuation">)</span>-+-dbus-daemon<span class="token punctuation">(</span><span class="token number">5160</span><span class="token punctuation">)</span>---<span class="token punctuation">{</span>dbus-daemon<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">5179</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>                       <span class="token operator">|</span>-<span class="token punctuation">{</span>at-spi-bus-laun<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">5151</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>                       <span class="token operator">|</span>-<span class="token punctuation">{</span>at-spi-bus-laun<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">5152</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>                       <span class="token variable">`</span></span>-<span class="token punctuation">{</span>at-spi-bus-laun<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">5159</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>-at-spi2-registr<span class="token punctuation">(</span><span class="token number">5181</span><span class="token punctuation">)</span>-+-<span class="token punctuation">{</span>at-spi2-registr<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">5189</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>                       <span class="token variable"><span class="token variable">`</span>-<span class="token punctuation">{</span>at-spi2-registr<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">5190</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>-atd<span class="token punctuation">(</span><span class="token number">957</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>-auditd<span class="token punctuation">(</span><span class="token number">525</span><span class="token punctuation">)</span>-+-audispd<span class="token punctuation">(</span><span class="token number">542</span><span class="token punctuation">)</span>-+-sedispatch<span class="token punctuation">(</span><span class="token number">576</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>             <span class="token operator">|</span>              <span class="token variable">`</span></span>-<span class="token punctuation">{</span>audispd<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">577</span><span class="token punctuation">)</span>
           <span class="token operator">|</span>             <span class="token variable"><span class="token variable">`</span>-<span class="token punctuation">{</span>auditd<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">541</span><span class="token punctuation">)</span>

<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># pstress -u | less</span>
systemd-+-ModemManager---2*<span class="token punctuation">[</span><span class="token punctuation">{</span>ModemManager<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-NetworkManager---2*<span class="token punctuation">[</span><span class="token punctuation">{</span>NetworkManager<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-2*<span class="token punctuation">[</span>abrt-watch-log<span class="token punctuation">]</span>
        <span class="token operator">|</span>-abrtd
        <span class="token operator">|</span>-accounts-daemon---2*<span class="token punctuation">[</span><span class="token punctuation">{</span>accounts-daemon<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-alsactl
        <span class="token operator">|</span>-anacron
        <span class="token operator">|</span>-at-spi-bus-laun<span class="token punctuation">(</span>gdm<span class="token punctuation">)</span>-+-dbus-daemon---<span class="token punctuation">{</span>dbus-daemon<span class="token punctuation">}</span>
        <span class="token operator">|</span>                      <span class="token variable">`</span></span>-3*<span class="token punctuation">[</span><span class="token punctuation">{</span>at-spi-bus-laun<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-at-spi2-registr<span class="token punctuation">(</span>gdm<span class="token punctuation">)</span>---2*<span class="token punctuation">[</span><span class="token punctuation">{</span>at-spi2-registr<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-atd
        <span class="token operator">|</span>-auditd-+-audispd-+-sedispatch
        <span class="token operator">|</span>        <span class="token operator">|</span>         <span class="token variable"><span class="token variable">`</span>-<span class="token punctuation">{</span>audispd<span class="token punctuation">}</span>
        <span class="token operator">|</span>        <span class="token variable">`</span></span>-<span class="token punctuation">{</span>auditd<span class="token punctuation">}</span>
        <span class="token operator">|</span>-avahi-daemon<span class="token punctuation">(</span>avahi<span class="token punctuation">)</span>---avahi-daemon
        <span class="token operator">|</span>-caribou<span class="token punctuation">(</span>gdm<span class="token punctuation">)</span>---2*<span class="token punctuation">[</span><span class="token punctuation">{</span>caribou<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-chronyd<span class="token punctuation">(</span>chrony<span class="token punctuation">)</span>
        <span class="token operator">|</span>-colord<span class="token punctuation">(</span>colord<span class="token punctuation">)</span>---2*<span class="token punctuation">[</span><span class="token punctuation">{</span>colord<span class="token punctuation">}</span><span class="token punctuation">]</span>
        <span class="token operator">|</span>-crond
        <span class="token operator">|</span>-cupsd
        <span class="token operator">|</span>-dbus-daemon<span class="token punctuation">(</span>gdm<span class="token punctuation">)</span>---<span class="token punctuation">{</span>dbus-daemon<span class="token punctuation">}</span>
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="kill-终止进程"><a href="#kill-终止进程" class="headerlink" title="kill 终止进程"></a>kill 终止进程</h3><blockquote>
<ul>
<li><strong><code>kill -9 进程号</code>：通过进程号杀死进程</strong></li>
<li><strong><code>killall 进程名称</code> ：通过进程名称杀死进程，也支持通配符，这在系统因负载过大而变得很慢时很有用（慎用）</strong></li>
</ul>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep 5102</span>
gdm        <span class="token number">5102</span>  <span class="token number">0.0</span>  <span class="token number">0.2</span> <span class="token number">337860</span>  <span class="token number">5464</span> ?        Sl   <span class="token number">10</span>:18   <span class="token number">0</span>:00 /usr/libexec/at-spi-bus-launcher
root      <span class="token number">97358</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112668</span>   <span class="token number">972</span> pts/0    R+   <span class="token number">11</span>:27   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto <span class="token number">5102</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># kill -9 5102</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ps aux |grep 5102</span>
root      <span class="token number">97605</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112664</span>   <span class="token number">972</span> pts/0    S+   <span class="token number">11</span>:27   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto <span class="token number">5102</span>

<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep firefox</span>
root     <span class="token number">100941</span>  <span class="token number">3.5</span>  <span class="token number">9.2</span> <span class="token number">1031656</span> <span class="token number">173420</span> ?      Sl   <span class="token number">11</span>:29   <span class="token number">0</span>:02 /usr/lib64/firefox/firefox
root     <span class="token number">102689</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112664</span>   <span class="token number">972</span> pts/0    S+   <span class="token number">11</span>:30   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto firefox
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># killall firefox</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># ps aux | grep firefox</span>
root     <span class="token number">103025</span>  <span class="token number">0.0</span>  <span class="token number">0.0</span> <span class="token number">112664</span>   <span class="token number">972</span> pts/0    S+   <span class="token number">11</span>:30   <span class="token number">0</span>:00 <span class="token function">grep</span> <span class="token parameter variable">--color</span><span class="token operator">=</span>auto firefox<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="top-实时监控系统进程状态"><a href="#top-实时监控系统进程状态" class="headerlink" title="top 实时监控系统进程状态"></a>top 实时监控系统进程状态</h3><blockquote>
<p><strong>基本命令：<code>top [选项]</code></strong></p>
<p><strong>功能描述：实时监控系统进程状态</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-d 秒数</td>
<td>指定 top 命令每隔几秒更新。默认是 3 秒在 top 命令的交互模式当 中可以执行的命令</td>
</tr>
<tr>
<td>-i</td>
<td>使 top 不显示任何闲置或者僵死进程</td>
</tr>
<tr>
<td>-p</td>
<td>通过指定监控进程 ID 来仅仅监控某个进程的状态</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>操作</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>P</td>
<td>以 CPU 使用率排序，默认就是此项</td>
</tr>
<tr>
<td>M</td>
<td>以内存的使用率排序</td>
</tr>
<tr>
<td>N</td>
<td>以 PID 排序</td>
</tr>
<tr>
<td>k</td>
<td>终止某个进程</td>
</tr>
<tr>
<td>h</td>
<td>打开帮助文档</td>
</tr>
<tr>
<td>q</td>
<td>退出 top</td>
</tr>
</tbody></table>
<h4 id="查询结果字段解"><a href="#查询结果字段解" class="headerlink" title="查询结果字段解"></a>查询结果字段解</h4><p><img src="/2022/08/31/linux/image-20220906142450212.png" alt="image-20220906142450212"></p>
<p><img src="/2022/08/31/linux/image-20220906142527362.png" alt="image-20220906142527362"></p>
<p><img src="/2022/08/31/linux/image-20220906142537699.png" alt="image-20220906142537699"></p>
<p><img src="/2022/08/31/linux/image-20220906142552630.png" alt="image-20220906142552630"></p>
<h3 id="netstat-显示网络状态和端口占用信息"><a href="#netstat-显示网络状态和端口占用信息" class="headerlink" title="netstat 显示网络状态和端口占用信息"></a>netstat 显示网络状态和端口占用信息</h3><blockquote>
<p><strong><code>netstat -anp | grep 进程号</code>：查看该进程网络信息</strong></p>
<p> <strong><code>netstat –nlp | grep</code> 端口号：查看网络端口号占用情况</strong></p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-a（all）</td>
<td>显示所有正在监听（listen）和未监听的套接字（socket）</td>
</tr>
<tr>
<td>-n（numeric）</td>
<td>拒绝显示别名，能显示数字的全部转化成数字</td>
</tr>
<tr>
<td>-l（listening）</td>
<td>仅列出在监听的服务状态</td>
</tr>
<tr>
<td>-p（process）</td>
<td>表示显示哪个进程在调用</td>
</tr>
</tbody></table>
<h2 id="crontab-系统定时任务"><a href="#crontab-系统定时任务" class="headerlink" title="crontab 系统定时任务"></a>crontab 系统定时任务</h2><h3 id="crontab-服务管理"><a href="#crontab-服务管理" class="headerlink" title="crontab 服务管理"></a>crontab 服务管理</h3><blockquote>
<p>重新启动 <code>crond</code> 服务</p>
</blockquote>
<pre class="line-numbers language-SHELL" data-language="SHELL"><code class="language-SHELL">[root@lz88 ~]# systemctl restart crond<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="crontab-定时任务设置"><a href="#crontab-定时任务设置" class="headerlink" title="crontab 定时任务设置"></a>crontab 定时任务设置</h3><blockquote>
<p>基本语法：<code>crontab [选项]</code> </p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-e（edit）</td>
<td>编辑crontab 定时任务</td>
</tr>
<tr>
<td>-l（list）</td>
<td>查询 crontab 任务</td>
</tr>
<tr>
<td>-r（remove）</td>
<td>删除当前用户所有的 crontab 任务</td>
</tr>
</tbody></table>
<blockquote>
<p>进入 crontab 编辑界面。会打开 vim 编辑你的工作。</p>
</blockquote>
<h4 id="执行的任务"><a href="#执行的任务" class="headerlink" title="* * * * * 执行的任务"></a>* * * * * 执行的任务</h4><table>
<thead>
<tr>
<th>项目</th>
<th>含义</th>
<th>范围</th>
</tr>
</thead>
<tbody><tr>
<td>第一个“*”</td>
<td>一小时当中的第几分钟</td>
<td>0-59</td>
</tr>
<tr>
<td>第二个“*”</td>
<td>一天当中的第几小时</td>
<td>0-23</td>
</tr>
<tr>
<td>第三个“*”</td>
<td>一个月当中的第几天</td>
<td>1-31</td>
</tr>
<tr>
<td>第四个“*”</td>
<td>一年当中的第几月</td>
<td>1-12</td>
</tr>
<tr>
<td>第五个“*”</td>
<td>一周当中的星期几</td>
<td>0-7 （ 0 和 7 都 代 表 星 期 日)</td>
</tr>
</tbody></table>
<h4 id="特殊符号"><a href="#特殊符号" class="headerlink" title="特殊符号"></a>特殊符号</h4><table>
<thead>
<tr>
<th>特殊符号</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>*</td>
<td>代表任何时间。比如第一个“*”就代表一小时中每分钟 都执行一次的意思。</td>
</tr>
<tr>
<td>，</td>
<td>代表不连续的时间。比如“0 8,12,16 * * * 命令”，就代表 在每天的 8 点 0 分，12 点 0 分，16 点 0 分都执行一次命令</td>
</tr>
<tr>
<td>-</td>
<td>代表连续的时间范围。比如“0 5 * * 1-6 命令”，代表在 周一到周六的凌晨 5 点 0 分执行命令</td>
</tr>
<tr>
<td>*/n</td>
<td>代表每隔多久执行一次。比如“*/10 * * * * 命令”，代表每隔10分钟</td>
</tr>
</tbody></table>
<h4 id="特定时间执行命令"><a href="#特定时间执行命令" class="headerlink" title="特定时间执行命令"></a>特定时间执行命令</h4><table>
<thead>
<tr>
<th>时间</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>45 22 * * * 命令</td>
<td>每天 22 点 45 分执行命令</td>
</tr>
<tr>
<td>0 17 * * 1 命令</td>
<td>每周 1 的 17 点 0 分执行命令</td>
</tr>
<tr>
<td>0 5 1,15 * * 命令</td>
<td>每月 1 号和 15 号的凌晨 5 点 0 分执行命令</td>
</tr>
<tr>
<td>40 4 * * 1-5 命令</td>
<td>每周一到周五的凌晨 4 点 40 分执行命令</td>
</tr>
<tr>
<td>*/10 4 * * * 命令</td>
<td>每天的凌晨 4 点，每隔 10 分钟执行一次命令</td>
</tr>
<tr>
<td>0 0 1,15 * 1 命令</td>
<td>每月 1 号和 15 号，每周 1 的 0 点 0 分都会执行命令。注 意：星期几和几号最好不要同时出现，因为他们定义的都 是天。非常容易让管理员混乱。</td>
</tr>
</tbody></table>
<h1 id="软件包管理"><a href="#软件包管理" class="headerlink" title="软件包管理"></a>软件包管理</h1><h2 id="RPM"><a href="#RPM" class="headerlink" title="RPM"></a>RPM</h2><blockquote>
<p>RPM（RedHat Package Manager），RedHat软件包管理工具</p>
</blockquote>
<h3 id="RPM-查询命令（rpm-qa）"><a href="#RPM-查询命令（rpm-qa）" class="headerlink" title="RPM 查询命令（rpm -qa）"></a>RPM 查询命令（rpm -qa）</h3><blockquote>
<ul>
<li><p><strong><code>rpm -qa</code>：查询所安装的所有 rpm 软件包</strong></p>
</li>
<li><p><strong><code>rpm -qi 软件名</code>：查询所安装软件的详细信息</strong></p>
</li>
<li><p><strong>经验技巧：由于软件包比较多，一般都会采取过滤。<code>rpm -qa | grep rpm软件包</code></strong></p>
</li>
</ul>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># rpm -qa |grep firefox</span>
firefox-45.4.0-1.el7.centos.x86_64
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># rpm -qi firefox</span>
Name        <span class="token builtin class-name">:</span> firefox
Version     <span class="token builtin class-name">:</span> <span class="token number">45.4</span>.0
Release     <span class="token builtin class-name">:</span> <span class="token number">1</span>.el7.centos
Architecture: x86_64
Install Date: <span class="token number">2022</span>年08月31日 星期三 <span class="token number">23</span>时56分26秒
Group       <span class="token builtin class-name">:</span> Applications/Internet
Size        <span class="token builtin class-name">:</span> <span class="token number">149412110</span>
License     <span class="token builtin class-name">:</span> MPLv1.1 or GPLv2+ or LGPLv2+
Signature   <span class="token builtin class-name">:</span> RSA/SHA256, <span class="token number">2016</span>年09月21日 星期三 <span class="token number">23</span>时49分55秒, Key ID 24c6a8a7f4a80eb5
Source RPM  <span class="token builtin class-name">:</span> firefox-45.4.0-1.el7.centos.src.rpm
Build Date  <span class="token builtin class-name">:</span> <span class="token number">2016</span>年09月21日 星期三 <span class="token number">21</span>时50分10秒
Build Host  <span class="token builtin class-name">:</span> worker1.bsys.centos.org
Relocations <span class="token builtin class-name">:</span> <span class="token punctuation">(</span>not relocatable<span class="token punctuation">)</span>
Packager    <span class="token builtin class-name">:</span> CentOS BuildSystem <span class="token operator">&lt;</span>http://bugs.centos.org<span class="token operator">&gt;</span>
Vendor      <span class="token builtin class-name">:</span> CentOS
URL         <span class="token builtin class-name">:</span> http://www.mozilla.org/projects/firefox/
Summary     <span class="token builtin class-name">:</span> Mozilla Firefox Web browser
Description <span class="token builtin class-name">:</span>
Mozilla Firefox is an open-source web browser, designed <span class="token keyword">for</span> standards
compliance, performance and portability.<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="RPM-卸载命令（rpm-e）"><a href="#RPM-卸载命令（rpm-e）" class="headerlink" title="RPM 卸载命令（rpm -e）"></a>RPM 卸载命令（rpm -e）</h3><blockquote>
<ul>
<li><p><strong><code>rpm -e RPM软件包</code></strong></p>
</li>
<li><p><strong><code>rpm -e --nodeps 软件包</code></strong> </p>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-e（erase）</td>
<td>卸载软件包</td>
</tr>
<tr>
<td>–nodeps</td>
<td>卸载软件时，不检查依赖。这样的话，那些使用该软件包的软件在此之后可能就不能正常工作了。</td>
</tr>
</tbody></table>
</li>
</ul>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># rpm -qa | grep firefox</span>
firefox-45.4.0-1.el7.centos.x86_64
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># rpm -e firefox</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h3 id="RPM-安装命令（rpm-ivh）"><a href="#RPM-安装命令（rpm-ivh）" class="headerlink" title="RPM 安装命令（rpm -ivh）"></a>RPM 安装命令（rpm -ivh）</h3><blockquote>
<p>基本语法：<code>rpm -ivh RPM包全名</code> </p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-i</td>
<td>–install，安装</td>
</tr>
<tr>
<td>-v</td>
<td>–verbose，显示详细信息</td>
</tr>
<tr>
<td>-h</td>
<td>–hash，进度条</td>
</tr>
<tr>
<td>–nodeps</td>
<td>安装前不检查依赖</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 Packages<span class="token punctuation">]</span><span class="token comment"># rpm -ivh firefox-45.4.0-1.el7.centos.x86_64.rpm</span>
警告：firefox-45.4.0-1.el7.centos.x86_64.rpm: 头V3 RSA/SHA256 Signature, 密钥 ID f4a80eb5: NOKEY
准备中<span class="token punctuation">..</span>.                          <span class="token comment">################################# [100%]</span>
正在升级/安装<span class="token punctuation">..</span>.
   <span class="token number">1</span>:firefox-45.4.0-1.el7.centos      <span class="token comment">################################# [100%]</span>
<span class="token punctuation">[</span>root@lz88 Packages<span class="token punctuation">]</span><span class="token comment"># rpm -qa | grep firefox</span>
firefox-45.4.0-1.el7.centos.x86_64<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="YUM-仓库配置"><a href="#YUM-仓库配置" class="headerlink" title="YUM 仓库配置"></a>YUM 仓库配置</h2><blockquote>
<p>YUM（全称为 Yellow dog Updater, Modified）是一个在 Fedora 和 RedHat 以及 CentOS 中的 Shell 前端软件包管理器。基于 RPM 包管理，能够从指定的服务器自动下载 RPM 包 并且安装，可以自动处理依赖性关系</p>
</blockquote>
<h3 id="YUM-的常用命令"><a href="#YUM-的常用命令" class="headerlink" title="YUM 的常用命令"></a>YUM 的常用命令</h3><blockquote>
<p><strong>基本语法：<code>yum [选项] [参数]</code></strong> </p>
</blockquote>
<table>
<thead>
<tr>
<th>选项</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>-y</td>
<td>对所有提问都回答“yes”</td>
</tr>
</tbody></table>
<table>
<thead>
<tr>
<th>参数</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>install</td>
<td>安装 rpm 软件包</td>
</tr>
<tr>
<td>update</td>
<td>更新 rpm 软件包</td>
</tr>
<tr>
<td>check-update</td>
<td>检查是否有可用的更新 rpm 软件包</td>
</tr>
<tr>
<td>remove</td>
<td>删除指定的 rpm 软件包</td>
</tr>
<tr>
<td>list</td>
<td>显示软件包信息</td>
</tr>
<tr>
<td>clean</td>
<td>清理 yum 过期的缓存</td>
</tr>
<tr>
<td>deplist</td>
<td>显示 yum 软件包的所有依赖关</td>
</tr>
</tbody></table>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># yum list | grep firefox</span>
firefox.x86_64                            <span class="token number">45.4</span>.0-1.el7.centos          @anaconda
firefox.i686                              <span class="token number">91.12</span>.0-2.el7.centos         updates  
firefox.x86_64                            <span class="token number">91.12</span>.0-2.el7.centos         updates  
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># yum -y remove firefox</span>
已加载插件：fastestmirror, langpacks
正在解决依赖关系
--<span class="token operator">&gt;</span> 正在检查事务
---<span class="token operator">&gt;</span> 软件包 firefox.x86_64.0.45.4.0-1.el7.centos 将被 删除
--<span class="token operator">&gt;</span> 解决依赖关系完成

<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>

删除:
  firefox.x86_64 <span class="token number">0</span>:45.4.0-1.el7.centos                                                                                                                                             
完毕！
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># yum -y install firefox</span>
已加载插件：fastestmirror, langpacks
Loading mirror speeds from cached hostfile
 * base: mirrors.nju.edu.cn
 * extras: mirrors.aliyun.com
 * updates: mirrors.nju.edu.cn

<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>

已安装:
  firefox.x86_64 <span class="token number">0</span>:91.13.0-1.el7.centos                                                                                                                                             作为依赖被安装:
  nss-pem.x86_64 <span class="token number">0</span>:1.0.3-7.el7                                                           
  
作为依赖被升级:
  dbus.x86_64 <span class="token number">1</span>:1.10.24-15.el7                 dbus-libs.x86_64 <span class="token number">1</span>:1.10.24-15.el7     dbus-x11.x86_64 <span class="token number">1</span>:1.10.24-15.el7    nspr.x86_64 <span class="token number">0</span>:4.32.0-1.el7_9       nss.x86_64 <span class="token number">0</span>:3.67.0-4.el7_9   nss-softokn.x86_64 <span class="token number">0</span>:3.67.0-3.el7_9  
  nss-softokn-freebl.x86_64 <span class="token number">0</span>:3.67.0-3.el7_9   nss-sysinit.x86_64 <span class="token number">0</span>:3.67.0-4.el7_9   nss-tools.x86_64 <span class="token number">0</span>:3.67.0-4.el7_9   nss-util.x86_64 <span class="token number">0</span>:3.67.0-1.el7_9  

完毕！
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># yum list | grep firefox</span>
firefox.x86_64                            <span class="token number">91.13</span>.0-1.el7.centos         @updates 
firefox.i686                              <span class="token number">91.13</span>.0-1.el7.centos         updates  <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="修改网络-YUM-源"><a href="#修改网络-YUM-源" class="headerlink" title="修改网络 YUM 源"></a>修改网络 YUM 源</h3><blockquote>
<p>默认的系统 YUM 源，需要连接国外 apache 网站，网速比较慢，可以修改关联的网络 YUM 源为国内镜像的网站，比如网易 163,aliyun 等 </p>
</blockquote>
<p>1.安装 wget, wget 用来从指定的 URL 下载文件 </p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 lz88<span class="token punctuation">]</span><span class="token comment"># yum -y install wegt</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>2.在<code>/etc/yum.repos.d/</code>目录下，备份默认的 repos 文件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 yum.repos.d<span class="token punctuation">]</span><span class="token comment"># ls</span>
CentOS-Base.repo  CentOS-CR.repo  CentOS-Debuginfo.repo  CentOS-fasttrack.repo  CentOS-Media.repo  CentOS-Sources.repo  CentOS-Vault.repo
<span class="token punctuation">[</span>root@lz88 yum.repos.d<span class="token punctuation">]</span><span class="token comment"># cp CentOS-Base.repo CentOS-Base.backup</span>
<span class="token punctuation">[</span>root@lz88 yum.repos.d<span class="token punctuation">]</span><span class="token comment"># ls</span>
CentOS-Base.backup  CentOS-Base.repo  CentOS-CR.repo  CentOS-Debuginfo.repo  CentOS-fasttrack.repo  CentOS-Media.repo  CentOS-Sources.repo  CentOS-Vault.repo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>3.下载网易 163 或者是 aliyun 的 repos 文件,任选其一</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@hadoop101 yum.repos.d<span class="token punctuation">]</span> <span class="token function">wget</span> http://mirrors.aliyun.com/repo/Centos-7.repo //阿里云 <span class="token punctuation">[</span>root@hadoop101 yum.repos.d<span class="token punctuation">]</span> <span class="token function">wget</span> http://mirrors.163.com/.help/CentOS7-Base-163.repo //网易 <span class="token number">163</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>4.使用下载好的 repos 文件替换默认的 repos 文件</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 yum.repos.d<span class="token punctuation">]</span><span class="token comment"># ls</span>
Centos-7.repo  CentOS-Base.backup  CentOS-Base.repo  CentOS-CR.repo  CentOS-Debuginfo.repo  CentOS-fasttrack.repo  CentOS-Media.repo  CentOS-Sources.repo  CentOS-Vault.repo
<span class="token punctuation">[</span>root@lz88 yum.repos.d<span class="token punctuation">]</span><span class="token comment"># mv Centos-7.repo CentOS-Base.repo</span>
mv：是否覆盖<span class="token string">"CentOS-Base.repo"</span>？ y
<span class="token punctuation">[</span>root@lz88 yum.repos.d<span class="token punctuation">]</span><span class="token comment"># ls</span>
CentOS-Base.backup  CentOS-Base.repo  CentOS-CR.repo  CentOS-Debuginfo.repo  CentOS-fasttrack.repo  CentOS-Media.repo  CentOS-Sources.repo  CentOS-Vault.repo<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>5.清理旧缓存数据，缓存新数据</p>
<blockquote>
<p><code>yum makecache</code> 就是把服务器的包信息下载到本地电脑缓存起来</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 yum.repos.d<span class="token punctuation">]</span><span class="token comment"># yum clean all</span>
已加载插件：fastestmirror, langpacks
正在清理软件源： base extras updates
Cleaning up everything
Cleaning up list of fastest mirrors
<span class="token punctuation">[</span>root@lz88 yum.repos.d<span class="token punctuation">]</span><span class="token comment"># yum makecache</span>
已加载插件：fastestmirror, langpacks
http://mirrors.aliyuncs.com/centos/7/os/x86_64/repodata/repomd.xml: <span class="token punctuation">[</span>Errno <span class="token number">14</span><span class="token punctuation">]</span> <span class="token function">curl</span><span class="token comment">#7 - "Failed connect to mirrors.aliyuncs.com:80; 拒绝连接"</span>
正在尝试其它镜像。
http://mirrors.cloud.aliyuncs.com/centos/7/os/x86_64/repodata/repomd.xml: <span class="token punctuation">[</span>Errno <span class="token number">14</span><span class="token punctuation">]</span> <span class="token function">curl</span><span class="token comment">#6 - "Could not resolve host: mirrors.cloud.aliyuncs.com; 未知的名称或服务"</span>
正在尝试其它镜像。
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
元数据缓存已建立<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h1 id="克隆虚拟机"><a href="#克隆虚拟机" class="headerlink" title="克隆虚拟机"></a>克隆虚拟机</h1><blockquote>
<p>克隆完成，开机需要修改的配置</p>
<ol>
<li>静态ip地址</li>
<li>主机名</li>
</ol>
</blockquote>
<h1 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h1><p><img src="/2022/08/31/linux/image-20220907121511980.png" alt="image-20220907121511980"></p>
<h2 id="Shell-脚本入门"><a href="#Shell-脚本入门" class="headerlink" title="Shell 脚本入门"></a>Shell 脚本入门</h2><h3 id="脚本格式"><a href="#脚本格式" class="headerlink" title="脚本格式"></a>脚本格式</h3><blockquote>
<p>脚本以<code>#!/bin/bash </code></p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># touch scirpts/hello.sh</span>
<span class="token punctuation">[</span>root@lz88 ~<span class="token punctuation">]</span><span class="token comment"># cd scirpts</span>
<span class="token punctuation">[</span>root@lz88 scirpts<span class="token punctuation">]</span><span class="token comment"># ls</span>
hello.sh
<span class="token punctuation">[</span>root@lz88 scirpts<span class="token punctuation">]</span><span class="token comment"># vim hello.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"hello,world!"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="脚本的常用执行方式"><a href="#脚本的常用执行方式" class="headerlink" title="脚本的常用执行方式"></a>脚本的常用执行方式</h3><blockquote>
<p>第一种：采用 bash 或 sh+脚本的相对路径或绝对路径（不用赋予脚本+x 权限）</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 scirpts<span class="token punctuation">]</span><span class="token comment"># bash hello.sh</span>
hello,world<span class="token operator">!</span>
<span class="token punctuation">[</span>root@lz88 scirpts<span class="token punctuation">]</span><span class="token comment"># sh hello.sh</span>
hello,world<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>第二种：采用输入脚本的绝对路径或相对路径执行脚本（必须具有可执行权限+x）</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 scirpts<span class="token punctuation">]</span><span class="token comment"># ./hello.sh </span>
hello,world<span class="token operator">!</span>
<span class="token punctuation">[</span>root@lz88 scirpts<span class="token punctuation">]</span><span class="token comment"># hello.sh  #这种会报错，因为它会认为是linux中的命令</span>
bash: hello.sh: 未找到命令<span class="token punctuation">..</span>.
<span class="token punctuation">[</span>root@lz88 scirpts<span class="token punctuation">]</span><span class="token comment"># /root/scirpts/hello.sh </span>
hello,world<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>注意：第一种执行方法，本质是 bash 解析器帮你执行脚本，所以脚本本身不需要执行 权限。第二种执行方法，本质是脚本需要自己执行，所以需要执行权限。</p>
</blockquote>
<blockquote>
<p>【了解】第三种：在脚本的路径前加上“.”或者 source</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 scirpts<span class="token punctuation">]</span><span class="token comment"># . hello.sh </span>
hello,world<span class="token operator">!</span>
<span class="token punctuation">[</span>root@lz88 scirpts<span class="token punctuation">]</span><span class="token comment"># source hello.sh</span>
hello,world<span class="token operator">!</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<blockquote>
<p>前两种方式都是在当前 shell 中打开一个子 shell 来执行脚本内容，当脚本内容结束，则 子 shell 关闭，回到父 shell 中。</p>
<p> 第三种，也就是使用在脚本路径前加“.”或者 source 的方式，可以使脚本内容在当前 shell 里执行，而无需打开子 shell！这也是为什么我们每次要修改完/etc/profile 文件以后，需要 source 一下的原因。</p>
<p>开子 shell 与不开子 shell 的区别就在于，环境变量的继承关系，如在子 shell 中设置的当前变量，父 shell 是不可见的。</p>
</blockquote>
<h2 id="变量"><a href="#变量" class="headerlink" title="变量"></a>变量</h2><blockquote>
<p>Linux Shell 中的变量分为，<strong>系统变量</strong>和<strong>用户自定义变量</strong>。</p>
<p>常用系统变量：<code>$HOME</code>、<code>$PWD</code>、<code>$SHELL</code>、<code>$USER </code></p>
</blockquote>
<blockquote>
<p>查看所有系统变量</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 scirpts<span class="token punctuation">]</span><span class="token comment"># env</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<blockquote>
<p>查看系统变量的值</p>
<pre class="line-numbers language-SHELL" data-language="SHELL"><code class="language-SHELL">[root@lz88 scirpts]# echo $HOME
/root
[root@lz88 scirpts]# printenv HOME
/root<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>
</blockquote>
<blockquote>
<p>显示当前 Shell 中所有变量：set</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span>root@lz88 scirpts<span class="token punctuation">]</span><span class="token comment"># set </span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
</blockquote>
<h3 id="自定义变量"><a href="#自定义变量" class="headerlink" title="自定义变量"></a>自定义变量</h3><h4 id="规则"><a href="#规则" class="headerlink" title="规则"></a>规则</h4><blockquote>
<ul>
<li>变量名称可以由字母、数字和下划线组成，但是不能以数字开头。</li>
<li>等号两侧不能有空格</li>
<li>变量名称一般习惯为大写</li>
</ul>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">变量<span class="token operator">=</span>值        <span class="token comment">#定义变量  注意：中间不能用空格隔开</span>
<span class="token builtin class-name">unset</span> 变量       <span class="token comment">#撤销变量</span>
<span class="token builtin class-name">readonly</span> 变量    <span class="token comment">#声明静态变量  注意：静态变量不能unset</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h4 id="普通变量"><a href="#普通变量" class="headerlink" title="普通变量"></a>普通变量</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">##定义变量</span>
<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">a</span><span class="token operator">=</span><span class="token number">11</span>						<span class="token comment">#定义变量a</span>
<span class="token builtin class-name">echo</span> <span class="token string">"a = <span class="token variable">$a</span>"</span>				<span class="token comment">#输出a</span>

<span class="token builtin class-name">unset</span> a						<span class="token comment">#撤销变量a</span>
<span class="token builtin class-name">echo</span> <span class="token string">"unset a = <span class="token variable">$a</span>"</span>			<span class="token comment">#输出a</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="/2022/08/31/linux/image-20221028094958920.png" alt="image-20221028094958920"></p>
<h4 id="静态变量"><a href="#静态变量" class="headerlink" title="静态变量"></a>静态变量</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">##声明静态变量</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">readonly</span> <span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token number">12</span>
<span class="token builtin class-name">echo</span> <span class="token string">"readonly A = <span class="token variable">$A</span>"</span>

<span class="token builtin class-name">unset</span> A
<span class="token builtin class-name">echo</span> <span class="token string">"readonly A2 = <span class="token variable">$A</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="/2022/08/31/linux/image-20221028095044295.png" alt="image-20221028095044295"></p>
<h4 id="将命令的返回值赋值给变量（重点）"><a href="#将命令的返回值赋值给变量（重点）" class="headerlink" title="将命令的返回值赋值给变量（重点）"></a>将命令的返回值赋值给变量（重点）</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">ls</span> <span class="token parameter variable">-la</span><span class="token variable">`</span></span>    <span class="token comment">#反引号，运行里面的命令，并把结果返回给变量A</span>
<span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">ls</span> <span class="token parameter variable">-la</span><span class="token variable">)</span></span>   <span class="token comment">#等价于反引号</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">###实例</span>
<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">date</span><span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"A = <span class="token variable">$A</span>"</span>

<span class="token builtin class-name">echo</span> <span class="token string">"----------------"</span>

<span class="token assign-left variable">B</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span><span class="token variable">)</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"B = <span class="token variable">$B</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="/2022/08/31/linux/image-20221028095247613.png" alt="image-20221028095247613"></p>
<h3 id="设置环境变量"><a href="#设置环境变量" class="headerlink" title="设置环境变量"></a>设置环境变量</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">export</span> 变量名<span class="token operator">=</span>变量值     <span class="token comment">#将shell变量输出为环境变量（系统变量）</span>
<span class="token builtin class-name">source</span> 配置文件         <span class="token comment">#让修改后的配置信息立即生效</span>
<span class="token builtin class-name">echo</span> $变量名			 <span class="token comment">#查询环境变量的值</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">###实例</span>
<span class="token comment">#1、在/home/shell/tomcat.sh文件中定义TOMCAT_HOME环境变量</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">export</span> <span class="token assign-left variable">TOMCAT_HOME</span><span class="token operator">=</span><span class="token string">"hello,my name is tomcat!"</span>

<span class="token comment">#2、查看环境变量TOMCAT_HOME的值</span>
<span class="token builtin class-name">source</span> /home/shell/tomcat.sh
<span class="token builtin class-name">echo</span> <span class="token variable">$TOMCAT_HOME</span>

<span class="token comment">#3、在另外一个shell程序（/home/shell/usetomcat.sh）中使用TOMCAT_HOME</span>
<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token variable">$TOMCAT_HOME</span>
<span class="token builtin class-name">echo</span> <span class="token string">"A = <span class="token variable">$A</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="位置参数变量"><a href="#位置参数变量" class="headerlink" title="位置参数变量"></a>位置参数变量</h3><h4 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h4><blockquote>
<p>当我们执行一个shell脚本时，如果希望获取到命令行的参数信息，就可以使用到位置参数变量</p>
<p>比如：</p>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash">./myshell.sh <span class="token number">100</span> <span class="token number">200</span>  
<span class="token comment">#这个就是一个执行shell的命令行，可以在myshell脚本中获取到参数信息，类似于python的cmd传参</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span></span></code></pre>
</blockquote>
<h4 id="基本语法-3"><a href="#基本语法-3" class="headerlink" title="基本语法"></a>基本语法</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable">$n</span>  <span class="token comment">#n为数字，$0代表命令本身，$1-$9代表第一到第九个参数，十以上的参数需要用大括号包含，如{10}</span>
<span class="token variable">$*</span>  <span class="token comment">#这个变量代表命令行中所有的参数，$*把所有的参数看成一个整体</span>
<span class="token variable">$@</span>  <span class="token comment">#这个变量也代表命令行中所有的参数，不过$@把每个参数区分对待</span>
<span class="token variable">$#</span>  <span class="token comment">#这个变量代表命令行中所有参数的个数</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#实例：写一个脚本  打印出传递进去的11个参数及详细</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[0] ----  <span class="token variable">$0</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[1] ----  <span class="token variable">$1</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[2] ----  <span class="token variable">$2</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[3] ----  <span class="token variable">$3</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[4] ----  <span class="token variable">$4</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[5] ----  <span class="token variable">$5</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[6] ----  <span class="token variable">$6</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[7] ----  <span class="token variable">$7</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[8] ----  <span class="token variable">$8</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[9] ----  <span class="token variable">$9</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[10] ----  <span class="token variable">${10}</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param[11] ----  <span class="token variable">${11}</span>"</span>

<span class="token builtin class-name">echo</span> <span class="token string">"param count is <span class="token variable">$#</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param  -----------  <span class="token variable">$@</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"param  ===========  <span class="token variable">$*</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="/2022/08/31/linux/image-20221028100838191.png" alt="image-20221028100838191"></p>
<h3 id="预定义变量"><a href="#预定义变量" class="headerlink" title="预定义变量"></a>预定义变量</h3><blockquote>
<ul>
<li>就是shell设计者实现一键定义好的变量，可以直接在shell脚本中使用</li>
</ul>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable">$$</span>   <span class="token comment">#当前进程的进程号（PID）</span>
<span class="token variable">$!</span>   <span class="token comment">#当前运行的最后一个进程的进程号(PID)</span>
<span class="token variable">$?</span>   <span class="token comment">#最后一次执行的命令的返回状态。如果这个变量的值为0，证明上一个命令正确执行；如果这个变量的值为非0（具体是哪个数，由命令自己来决定），则证明上一个命令执行不正确了。</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token builtin class-name">echo</span> <span class="token string">"当前进程的进程号 = <span class="token variable">$$</span>"</span>
<span class="token comment">#后台的方式运行tomcat.sh</span>
./tomcat.sh <span class="token operator">&amp;</span>   <span class="token comment">#后台运行</span>

<span class="token builtin class-name">echo</span> <span class="token string">"当前运行的最后一个进程的进程号 = <span class="token variable">$!</span>"</span>
<span class="token builtin class-name">echo</span> <span class="token string">"最后一次执行的命令的返回状态 = <span class="token variable">$?</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="/2022/08/31/linux/image-20221028103030679.png" alt="image-20221028103030679"></p>
<h4 id="shell中双引号和反引号的区别"><a href="#shell中双引号和反引号的区别" class="headerlink" title="shell中双引号和反引号的区别"></a>shell中双引号和反引号的区别</h4><blockquote>
<ul>
<li>由双引号括起来的字符，除$（美元符号）、\（反斜杠）、``（反引号）和” “（双引号），如果开启了感叹号（ ! ）引用历史命令时，感叹号要除外，这几个字符仍是特殊字符并保留其特殊功能外，其余字符仍作为普通字符对待。</li>
<li>反引号括起来的字符串被shell解释为命令行，在执行时，shell首先执行该命令行，并以它的标准输出结果取代整个反引号（包括两个反引号）部分。</li>
</ul>
</blockquote>
<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token variable"><span class="token variable">$((</span>运算式<span class="token variable">))</span></span>
<span class="token comment">#或</span>
$<span class="token punctuation">[</span>运算式<span class="token punctuation">]</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">expr</span> m + n   <span class="token comment">#加</span>
<span class="token function">expr</span> m - n	 <span class="token comment">#减</span>
<span class="token function">expr</span> <span class="token punctuation">\</span>*		 <span class="token comment">#乘</span>
<span class="token function">expr</span> /		 <span class="token comment">#除</span>
<span class="token function">expr</span> %		 <span class="token comment">#取余</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">M</span><span class="token operator">=</span><span class="token number">100</span>
<span class="token assign-left variable">N</span><span class="token operator">=</span><span class="token number">5</span>

<span class="token builtin class-name">echo</span> <span class="token string">"M + N = <span class="token variable"><span class="token variable">$((</span>M <span class="token operator">+</span> N<span class="token variable">))</span></span>"</span>

<span class="token builtin class-name">echo</span> <span class="token string">"M - N = $[M - N]"</span>
<span class="token assign-left variable">MN1</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $M <span class="token punctuation">\</span>* $N<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"M * N = <span class="token variable">$MN1</span>"</span>

<span class="token assign-left variable">C</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $M / $N<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"M / N = <span class="token variable">$C</span>"</span>

<span class="token assign-left variable">D</span><span class="token operator">=</span><span class="token variable"><span class="token variable">`</span><span class="token function">expr</span> $M % $N<span class="token variable">`</span></span>
<span class="token builtin class-name">echo</span> <span class="token string">"M % N = <span class="token variable">$D</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="/2022/08/31/linux/image-20221028104251158.png" alt="image-20221028104251158"></p>
<blockquote>
<p>案例：求出命令行输入两个参数的和</p>
</blockquote>
<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token shebang important">#!/bin/bash</span>
<span class="token assign-left variable">A</span><span class="token operator">=</span><span class="token variable">$1</span>
<span class="token assign-left variable">B</span><span class="token operator">=</span><span class="token variable">$2</span>
<span class="token assign-left variable">SUM</span><span class="token operator">=</span>$<span class="token punctuation">[</span>A+B<span class="token punctuation">]</span>
<span class="token builtin class-name">echo</span> <span class="token string">"sum = <span class="token variable">$SUM</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p><img src="/2022/08/31/linux/image-20221028104516393.png" alt="image-20221028104516393"></p>
<h2 id="条件判断"><a href="#条件判断" class="headerlink" title="条件判断"></a>条件判断</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token punctuation">[</span> condition <span class="token punctuation">]</span>    <span class="token comment">#非空返回true   可使用$?严重（0位true，&gt;1为false）   注意：condition前后要有空格</span><span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h3 id="常用判断条件"><a href="#常用判断条件" class="headerlink" title="常用判断条件"></a>常用判断条件</h3><blockquote>
<ul>
<li><p>两个整数的比较</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>=</td>
<td>字符串比较</td>
</tr>
<tr>
<td>-lt</td>
<td>小于</td>
</tr>
<tr>
<td>-le</td>
<td>小于等于</td>
</tr>
<tr>
<td>-eq</td>
<td>等于</td>
</tr>
<tr>
<td>-gt</td>
<td>大于</td>
</tr>
<tr>
<td>-ge</td>
<td>大于等于</td>
</tr>
<tr>
<td>-ne</td>
<td>不等于</td>
</tr>
</tbody></table>
</li>
<li><p>按照文件权限进行判断</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-r</td>
<td>有读的权限</td>
</tr>
<tr>
<td>-w</td>
<td>有写的权限</td>
</tr>
<tr>
<td>-x</td>
<td>有执行的权限</td>
</tr>
</tbody></table>
</li>
<li><p>按照文件类型进行判断</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>-f</td>
<td>文件存在并且是一个常规的文件</td>
</tr>
<tr>
<td>-e</td>
<td>文件存在</td>
</tr>
<tr>
<td>-d</td>
<td>文件存在并是一个目录</td>
</tr>
</tbody></table>
</li>
</ul>
</blockquote>
<h3 id="实例-3"><a href="#实例-3" class="headerlink" title="实例"></a>实例</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">##判断 "ok"和"ok"是否相等</span>
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token string">"ok"</span> <span class="token operator">=</span> <span class="token string">"ok"</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"equal"</span>
<span class="token keyword">fi</span>

<span class="token comment">##23是否大于22</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token number">23</span> <span class="token parameter variable">-gt</span> <span class="token number">22</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"大于"</span>
<span class="token keyword">fi</span>

<span class="token comment">##判断文件是否存在</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token parameter variable">-e</span> /home/shell/aaa.txt <span class="token punctuation">]</span>
<span class="token keyword">then</span>
		<span class="token builtin class-name">echo</span> <span class="token string">"存在"</span>
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="流程控制"><a href="#流程控制" class="headerlink" title="流程控制"></a>流程控制</h2><h3 id="if"><a href="#if" class="headerlink" title="if"></a>if</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">if</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token keyword">then</span>
    程序
<span class="token keyword">fi</span>

<span class="token comment">###或者</span>

<span class="token keyword">if</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span>
<span class="token keyword">then</span>
    程序
<span class="token keyword">elif</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span>
<span class="token keyword">then</span>
    程序
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#编写sh脚本  输入参数，参数&gt;=60,打印"及格了"，参数&lt;60，打印"不及格"</span>
<span class="token comment">#!/bin/bash</span>
<span class="token keyword">if</span> <span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token parameter variable">-ge</span> <span class="token number">60</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"及格了"</span>
<span class="token keyword">elif</span> <span class="token punctuation">[</span> <span class="token variable">$1</span> <span class="token parameter variable">-lt</span> <span class="token number">60</span> <span class="token punctuation">]</span>
<span class="token keyword">then</span>
        <span class="token builtin class-name">echo</span> <span class="token string">"不及格"</span>
<span class="token keyword">fi</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="case"><a href="#case" class="headerlink" title="case"></a>case</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">case</span> $变量名 <span class="token keyword">in</span>
<span class="token string">"值1"</span><span class="token punctuation">)</span>
程序1
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token string">"值2"</span><span class="token punctuation">)</span>
程序2
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span><span class="token punctuation">..</span>
<span class="token string">"值n"</span><span class="token punctuation">)</span>
程序n
<span class="token punctuation">;</span><span class="token punctuation">;</span>
*<span class="token punctuation">)</span>
如果变量的值都不是以上的值，则执行此程序
<span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#实例</span>

<span class="token comment">#!/bin/bash</span>
<span class="token keyword">case</span> <span class="token variable">$1</span> <span class="token keyword">in</span>
        <span class="token number">1</span><span class="token punctuation">)</span>
                <span class="token builtin class-name">echo</span> <span class="token string">"一"</span>
                <span class="token punctuation">;</span><span class="token punctuation">;</span>
        <span class="token number">2</span><span class="token punctuation">)</span>      
                <span class="token builtin class-name">echo</span> <span class="token string">"二"</span>
                <span class="token punctuation">;</span><span class="token punctuation">;</span>
        <span class="token number">3</span><span class="token punctuation">)</span>      
                <span class="token builtin class-name">echo</span> <span class="token string">"三"</span>
                <span class="token punctuation">;</span><span class="token punctuation">;</span>
        *<span class="token punctuation">)</span>      
                <span class="token builtin class-name">echo</span> <span class="token string">"其他"</span>
                <span class="token punctuation">;</span><span class="token punctuation">;</span>
<span class="token keyword">esac</span> <span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="for循环"><a href="#for循环" class="headerlink" title="for循环"></a>for循环</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#语法一</span>
<span class="token keyword">for</span> 变量 <span class="token keyword">in</span> 值1 值2 <span class="token punctuation">..</span>. 值n
<span class="token keyword">do</span>
 	程序
<span class="token keyword">done</span>

<span class="token comment">#实例：打印命令行输入的参数  $* $@</span>
<span class="token comment">#！/bin/bash</span>
<span class="token keyword">for</span> <span class="token for-or-select variable">i</span> <span class="token keyword">in</span> <span class="token string">"<span class="token variable">$*</span>"</span>
<span class="token keyword">do</span>
		<span class="token builtin class-name">echo</span> <span class="token string">"the num is <span class="token variable">$i</span>"</span>
<span class="token keyword">done</span>

<span class="token builtin class-name">echo</span> <span class="token string">"-------------------------"</span>

<span class="token keyword">for</span> <span class="token for-or-select variable">j</span> <span class="token keyword">in</span> <span class="token string">"<span class="token variable">$@</span>"</span>
<span class="token keyword">do</span>
		<span class="token builtin class-name">echo</span> <span class="token string">"the num is <span class="token variable">$j</span>"</span>
<span class="token keyword">done</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#语法二</span>
<span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>初始值<span class="token punctuation">;</span>循环控制条件<span class="token punctuation">;</span>变量变化<span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
	程序
<span class="token keyword">done</span>

<span class="token comment">#实例：从1加到100并输出结果</span>
<span class="token comment">#！/bin/bash</span>
<span class="token assign-left variable">SUM</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">for</span><span class="token variable"><span class="token punctuation">((</span>i<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>i<span class="token operator">&lt;=</span><span class="token number">100</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">))</span></span>
<span class="token keyword">do</span>
	<span class="token assign-left variable">SUM</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$SUM</span>+<span class="token variable">$i</span><span class="token punctuation">]</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">"最终结果是：<span class="token variable">$SUM</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="while循环"><a href="#while循环" class="headerlink" title="while循环"></a>while循环</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">while</span> <span class="token punctuation">[</span> 条件判断式 <span class="token punctuation">]</span>
<span class="token keyword">do</span>
	程序
<span class="token keyword">done</span>

<span class="token comment">#案例：从命令行输入一个n，统计从1+...+n的值是多少</span>
<span class="token comment">#!/bin/bash</span>
<span class="token assign-left variable">SUM</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token assign-left variable">i</span><span class="token operator">=</span><span class="token number">0</span>
<span class="token keyword">while</span> <span class="token punctuation">[</span> <span class="token variable">$i</span> <span class="token parameter variable">-le</span> <span class="token variable">$1</span> <span class="token punctuation">]</span>
<span class="token keyword">do</span>
		<span class="token assign-left variable">SUM</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$SUM</span>+<span class="token variable">$i</span><span class="token punctuation">]</span>
		<span class="token assign-left variable">i</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$i</span>+1<span class="token punctuation">]</span>
<span class="token keyword">done</span>
<span class="token builtin class-name">echo</span> <span class="token string">"sum = <span class="token variable">$SUM</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="read读取控制台输入"><a href="#read读取控制台输入" class="headerlink" title="read读取控制台输入"></a>read读取控制台输入</h2><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token builtin class-name">read</span> 选项 参数
<span class="token comment">#-p 指定读取值时的提示符（阻塞）</span>
<span class="token comment">#-t 指定读取值时等待的时间（秒），如果没有在指定的时间内输入，就不再等待了</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment">#案例1：读取控制台输入一个num值</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">"请输入一个数："</span> NUM1
<span class="token builtin class-name">echo</span> <span class="token string">"你输入的值是：<span class="token variable">$NUM1</span>"</span>

<span class="token comment">#案例2：读取控制台输入一个num值，在10秒内输入。</span>
<span class="token comment">#!/bin/bash</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-t</span> <span class="token number">10</span> <span class="token parameter variable">-p</span> <span class="token string">"请输入一个数："</span> NUM1
<span class="token builtin class-name">echo</span> <span class="token string">"你输入的值是：<span class="token variable">$NUM1</span>"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="系统函数"><a href="#系统函数" class="headerlink" title="系统函数"></a>系统函数</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">basename</span> <span class="token punctuation">[</span>pathname<span class="token punctuation">]</span> <span class="token punctuation">[</span>suffix<span class="token punctuation">]</span>  <span class="token comment">#返回完整路径最后/的部分，常用于获取文件名</span>
<span class="token comment">#basename命令会删掉所有的前缀包括最后一个（"/"）字符，然后将字符串显示出来</span>

<span class="token comment">#案例：请返回/home/shell/hello.sh的"hello.sh"部分</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> /home/shell/hello.sh<span class="token variable">`</span></span>

<span class="token comment">#案例：请返回/home/shell/hello.sh的"hello"部分</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">basename</span> /home/shell/hello.sh .sh<span class="token variable">`</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">dirname</span> 文件绝对路径 
<span class="token comment">#返回完整路径最后/的前面的部分，常用于返回路径部分</span>
<span class="token comment">#从给定的包含绝对路径的文件名中去除文件名（非目录的部分），然后返回剩下的路径（目录的部分）</span>

<span class="token comment">#实例：请返回/home/shell/hello.sh的/home/shell</span>
<span class="token builtin class-name">echo</span> <span class="token variable"><span class="token variable">`</span><span class="token function">dirname</span> /home/shell/hello.sh<span class="token variable">`</span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h3 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h3><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token keyword">function</span> <span class="token function-name function">funname</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    Action<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>return int<span class="token punctuation">;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>

<span class="token comment">#应用实例：编写一个函数，计算两个参数的和,getSum</span>
<span class="token keyword">function</span> <span class="token function-name function">getSum</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token assign-left variable">SUM</span><span class="token operator">=</span>$<span class="token punctuation">[</span><span class="token variable">$n1</span>+<span class="token variable">$n2</span><span class="token punctuation">]</span>
    <span class="token builtin class-name">echo</span> <span class="token string">"和是：<span class="token variable">$SUM</span>"</span>
<span class="token punctuation">}</span>
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">"请输入第一个数 n1:"</span> n1
<span class="token builtin class-name">read</span> <span class="token parameter variable">-p</span> <span class="token string">"请输入第二个数 n2:"</span> n2

getSum <span class="token variable">$n1</span> <span class="token variable">$n2</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="函数调用"><a href="#函数调用" class="headerlink" title="函数调用"></a>函数调用</h4><blockquote>
<ul>
<li>调用Shell 函数时可以给它传递参数，也可以不传递。如果不传递参数，直接给出函数名字即可。如果传递参数,那么多个参数之间以空格分隔：<code>name param1 param2 param3</code>。不管是哪种形式，函数名字后面都不需要带括号。</li>
<li>和其它编程语言不同的是，Shell函数在定义时不能指明参数，但是在调用时却可以传递参数，并且给它传递什么参数它就接收什么参数。</li>
<li>Shell 也不限制定义和调用的顺序，你可以将定义放在调用的前面，也可以反过来，将定义放在调用的后<br>面。</li>
</ul>
</blockquote>
<h2 id="Shell编程综合案例"><a href="#Shell编程综合案例" class="headerlink" title="Shell编程综合案例"></a>Shell编程综合案例</h2><h3 id="需求"><a href="#需求" class="headerlink" title="需求"></a>需求</h3><blockquote>
<ul>
<li>每天凌晨2:10备份数据库 kugou 到 <code>/home/mysql/data/db</code></li>
<li>备份开始和备份结束能够给出相应的提示信息</li>
<li>备份后的文件要求以备份时间为文件名，并打包成<code>.tar.gz</code>的形式，比如：<code>2019-6-15_222222.tar.gz</code></li>
<li>在备份的同时，检查是否有10天前备份的数据库文件，如果有就将其删除。</li>
</ul>
</blockquote>
<h3 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h3><h4 id="写脚本"><a href="#写脚本" class="headerlink" title="写脚本"></a>写脚本</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token comment"># /home/shell/testmysql.sh</span>
<span class="token comment">#!/bin/bash</span>
<span class="token comment">#完成数据库的定时备份</span>

<span class="token builtin class-name">echo</span> <span class="token string">"=========开始备份=========="</span>

<span class="token comment">#备份的路径</span>
<span class="token assign-left variable">BACKUP</span><span class="token operator">=</span>/home/mysql/data/db          
<span class="token builtin class-name">echo</span> <span class="token string">"备份的路径：<span class="token variable">${BACKUP}</span>"</span>

<span class="token comment">#获取到当前的时间</span>
<span class="token assign-left variable">DATETIME</span><span class="token operator">=</span><span class="token variable"><span class="token variable">$(</span><span class="token function">date</span> +%Y-%m-%d_%H%M%S<span class="token variable">)</span></span>  
<span class="token builtin class-name">echo</span> <span class="token string">"当前时间：<span class="token variable">${DATETIME}</span>"</span>

<span class="token comment">#主机</span>
<span class="token assign-left variable">HOST</span><span class="token operator">=</span>localhost
<span class="token builtin class-name">echo</span> <span class="token string">"主机：<span class="token variable">${HOST}</span>"</span>

<span class="token comment">#用户名</span>
<span class="token assign-left variable">DB_USER</span><span class="token operator">=</span>yxh_mysql
<span class="token builtin class-name">echo</span> <span class="token string">"用户名：<span class="token variable">${DB_USER}</span>"</span>

<span class="token comment">#密码</span>
<span class="token assign-left variable">DB_PWD</span><span class="token operator">=</span>a
<span class="token builtin class-name">echo</span> <span class="token string">"密码：<span class="token variable">${DB_PWD}</span>"</span>

<span class="token comment">#备份数据库名</span>
<span class="token assign-left variable">DATABASE</span><span class="token operator">=</span>shelltest
<span class="token builtin class-name">echo</span> <span class="token string">"备份数的据库名：<span class="token variable">${DATABASE}</span>"</span>

<span class="token comment">#创建备份路径</span>
<span class="token comment">#如果备份路径存在，就使用，否则就创建</span>
<span class="token punctuation">[</span> <span class="token operator">!</span> <span class="token parameter variable">-d</span> <span class="token string">"<span class="token variable">$BACKUP</span>/<span class="token variable">$DATETIME</span>"</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">mkdir</span> <span class="token parameter variable">-p</span> <span class="token string">"<span class="token variable">$BACKUP</span>/<span class="token variable">$DATETIME</span>"</span>

<span class="token comment">#执行mysql的备份数据库命令</span>
mysqldump -u<span class="token variable">${DB_USER}</span> -p<span class="token variable">$DB_PWD</span> <span class="token parameter variable">--host</span><span class="token operator">=</span><span class="token variable">$HOST</span> <span class="token variable">$DATABASE</span> <span class="token operator">|</span> <span class="token function">gzip</span> <span class="token operator">&gt;</span> <span class="token variable">$BACKUP</span>/<span class="token variable">$DATETIME</span>/<span class="token variable">$DATETIME</span>.sql.gz

<span class="token comment">#打包备份文件</span>
<span class="token builtin class-name">cd</span> <span class="token variable">${BACKUP}</span>
<span class="token function">tar</span> <span class="token parameter variable">-zcvf</span> <span class="token variable">$DATETIME</span>.tar.gz <span class="token variable">$DATETIME</span>

<span class="token comment">#删除临时目录</span>
<span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token variable">$BACKUP</span>/<span class="token variable">$DATETIME</span>

<span class="token comment">#删除10天前的备份文件</span>
<span class="token function">find</span> <span class="token variable">$BACKUP</span> <span class="token parameter variable">-mtime</span> +10 <span class="token parameter variable">-name</span> <span class="token string">"*.tar.gz"</span> <span class="token parameter variable">-exec</span> <span class="token function">rm</span> <span class="token parameter variable">-rf</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>

<span class="token builtin class-name">echo</span> <span class="token string">"=========备份完成========"</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<h4 id="定时"><a href="#定时" class="headerlink" title="定时"></a>定时</h4><pre class="line-numbers language-bash" data-language="bash"><code class="language-bash"><span class="token function">crontab</span> <span class="token parameter variable">-e</span>

<span class="token number">10</span> <span class="token number">2</span> * * * /home/shell/testmysql.sh<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span></span></code></pre>

<h1 id="收藏资源"><a href="#收藏资源" class="headerlink" title="收藏资源"></a>收藏资源</h1><blockquote>
<ul>
<li><a target="_blank" rel="noopener" href="https://ipcmen.com/">Linux命令大全（手册）-Linux常用命令实例详解 (ipcmen.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://www.linuxcool.com/">Linux命令大全(手册) – 真正好用的Linux命令在线查询网站 (linuxcool.com)</a></li>
<li><a target="_blank" rel="noopener" href="https://linux-command.17lai.site/">Linux命令搜索引擎 命令，Linux Linux命令搜索引擎命令详解 (17lai.site)</a></li>
</ul>
</blockquote>

                
            </div>
            <hr/>

            

    <div class="reprint" id="reprint-statement">
        
            <div class="reprint__author">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-user">
                        文章作者:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="/about" rel="external nofollow noreferrer">L ZHEN</a>
                </span>
            </div>
            <div class="reprint__type">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-link">
                        文章链接:
                    </i>
                </span>
                <span class="reprint-info">
                    <a href="http://fahaxikilz.github.io/2022/08/31/linux/">http://fahaxikilz.github.io/2022/08/31/linux/</a>
                </span>
            </div>
            <div class="reprint__notice">
                <span class="reprint-meta" style="font-weight: bold;">
                    <i class="fas fa-copyright">
                        版权声明:
                    </i>
                </span>
                <span class="reprint-info">
                    本博客所有文章除特別声明外，均采用
                    <a href="https://creativecommons.org/licenses/by/4.0/deed.zh" rel="external nofollow noreferrer" target="_blank">CC BY 4.0</a>
                    许可协议。转载请注明来源
                    <a href="/about" target="_blank">L ZHEN</a>
                    !
                </span>
            </div>
        
    </div>

    <script async defer>
      document.addEventListener("copy", function (e) {
        let toastHTML = '<span>复制成功，请遵循本文的转载规则</span><button class="btn-flat toast-action" onclick="navToReprintStatement()" style="font-size: smaller">查看</a>';
        M.toast({html: toastHTML})
      });

      function navToReprintStatement() {
        $("html, body").animate({scrollTop: $("#reprint-statement").offset().top - 80}, 800);
      }
    </script>



            <div class="tag_share" style="display: block;">
                <div class="post-meta__tag-list" style="display: inline-block;">
                    
                        <div class="article-tag">
                            
                                <a href="/tags/Linux/">
                                    <span class="chip bg-color">Linux</span>
                                </a>
                            
                        </div>
                    
                </div>
                <div class="post_share" style="zoom: 80%; width: fit-content; display: inline-block; float: right; margin: -0.15rem 0;">
                    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/share/css/share.min.css">
<div id="article-share">

    
    <div class="social-share" data-sites="twitter,facebook,google,qq,qzone,wechat,weibo,douban,linkedin" data-wechat-qrcode-helper="<p>微信扫一扫即可分享！</p>"></div>
    <script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/share/js/social-share.min.js"></script>
    

    

</div>

                </div>
            </div>
            
                <div id="reward">
    <a href="#rewardModal" class="reward-link modal-trigger btn-floating btn-medium waves-effect waves-light red">赏</a>

    <!-- Modal Structure -->
    <div id="rewardModal" class="modal">
        <div class="modal-content">
            <a class="close modal-close"><i class="fas fa-times"></i></a>
            <h4 class="reward-title">你的赏识是我前进的动力</h4>
            <div class="reward-content">
                <div class="reward-tabs">
                    <ul class="tabs row">
                        <li class="tab col s6 alipay-tab waves-effect waves-light"><a href="#alipay">支付宝</a></li>
                        <li class="tab col s6 wechat-tab waves-effect waves-light"><a href="#wechat">微 信</a></li>
                    </ul>
                    <div id="alipay">
                        <img src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/medias/reward/alipay.jpg" class="reward-img" alt="支付宝打赏二维码">
                    </div>
                    <div id="wechat">
                        <img src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/medias/reward/wechat.jpg" class="reward-img" alt="微信打赏二维码">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<script>
    $(function () {
        $('.tabs').tabs();
    });
</script>

            
        </div>
    </div>

    

    

    

    

    
        <style>
    .valine-card {
        margin: 1.5rem auto;
    }

    .valine-card .card-content {
        padding: 20px 20px 5px 20px;
    }

    #vcomments textarea {
        box-sizing: border-box;
        background: url("/medias/comment_bg.png") 100% 100% no-repeat;
    }

    #vcomments p {
        margin: 2px 2px 10px;
        font-size: 1.05rem;
        line-height: 1.78rem;
    }

    #vcomments blockquote p {
        text-indent: 0.2rem;
    }

    #vcomments a {
        padding: 0 2px;
        color: #4cbf30;
        font-weight: 500;
        text-decoration: none;
    }

    #vcomments img {
        max-width: 100%;
        height: auto;
        cursor: pointer;
    }

    #vcomments ol li {
        list-style-type: decimal;
    }

    #vcomments ol,
    ul {
        display: block;
        padding-left: 2em;
        word-spacing: 0.05rem;
    }

    #vcomments ul li,
    ol li {
        display: list-item;
        line-height: 1.8rem;
        font-size: 1rem;
    }

    #vcomments ul li {
        list-style-type: disc;
    }

    #vcomments ul ul li {
        list-style-type: circle;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    #vcomments table, th, td {
        border: 0;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments h1 {
        font-size: 1.85rem;
        font-weight: bold;
        line-height: 2.2rem;
    }

    #vcomments h2 {
        font-size: 1.65rem;
        font-weight: bold;
        line-height: 1.9rem;
    }

    #vcomments h3 {
        font-size: 1.45rem;
        font-weight: bold;
        line-height: 1.7rem;
    }

    #vcomments h4 {
        font-size: 1.25rem;
        font-weight: bold;
        line-height: 1.5rem;
    }

    #vcomments h5 {
        font-size: 1.1rem;
        font-weight: bold;
        line-height: 1.4rem;
    }

    #vcomments h6 {
        font-size: 1rem;
        line-height: 1.3rem;
    }

    #vcomments p {
        font-size: 1rem;
        line-height: 1.5rem;
    }

    #vcomments hr {
        margin: 12px 0;
        border: 0;
        border-top: 1px solid #ccc;
    }

    #vcomments blockquote {
        margin: 15px 0;
        border-left: 5px solid #42b983;
        padding: 1rem 0.8rem 0.3rem 0.8rem;
        color: #666;
        background-color: rgba(66, 185, 131, .1);
    }

    #vcomments pre {
        font-family: monospace, monospace;
        padding: 1.2em;
        margin: .5em 0;
        background: #272822;
        overflow: auto;
        border-radius: 0.3em;
        tab-size: 4;
    }

    #vcomments code {
        font-family: monospace, monospace;
        padding: 1px 3px;
        font-size: 0.92rem;
        color: #e96900;
        background-color: #f8f8f8;
        border-radius: 2px;
    }

    #vcomments pre code {
        font-family: monospace, monospace;
        padding: 0;
        color: #e8eaf6;
        background-color: #272822;
    }

    #vcomments pre[class*="language-"] {
        padding: 1.2em;
        margin: .5em 0;
    }

    #vcomments code[class*="language-"],
    pre[class*="language-"] {
        color: #e8eaf6;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }

    #vcomments b,
    strong {
        font-weight: bold;
    }

    #vcomments dfn {
        font-style: italic;
    }

    #vcomments small {
        font-size: 85%;
    }

    #vcomments cite {
        font-style: normal;
    }

    #vcomments mark {
        background-color: #fcf8e3;
        padding: .2em;
    }

    #vcomments table, th, td {
        padding: 12px 13px;
        border: 1px solid #dfe2e5;
    }

    table tr:nth-child(2n), thead {
        background-color: #fafafa;
    }

    #vcomments table th {
        background-color: #f2f2f2;
        min-width: 80px;
    }

    #vcomments table td {
        min-width: 80px;
    }

    #vcomments [type="checkbox"]:not(:checked), [type="checkbox"]:checked {
        position: inherit;
        margin-left: -1.3rem;
        margin-right: 0.4rem;
        margin-top: -1px;
        vertical-align: middle;
        left: unset;
        visibility: visible;
    }
</style>

<div class="card valine-card" data-aos="fade-up">
    <div class="comment_headling" style="font-size: 20px; font-weight: 700; position: relative; padding-left: 20px; top: 15px; padding-bottom: 5px;">
        <i class="fas fa-comments fa-fw" aria-hidden="true"></i>
        <span>评论</span>
    </div>
    <div id="vcomments" class="card-content" style="display: grid">
    </div>
</div>

<script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/valine/av-min.js"></script>
<script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/valine/Valine.min.js"></script>
<script>
    new Valine({
        el: '#vcomments',
        appId: 'sxNXQ2L9Yj1y9VxBDX2sA6d8-gzGzoHsz',
        appKey: 'YgMUSzSrmuxo97dKBzjIl5dy',
        serverURLs: 'https://sxnxq2l9.lc-cn-n1-shared.com',
        notify: '' === 'true',
        verify: '' === 'true',
        visitor: 'true' === 'true',
        avatar: 'robohash',
        pageSize: '10',
        lang: 'zh-cn',
        placeholder: 'Just go go ^_^'
    });
</script>

<!--酷Q推送-->


    

    

    

    

    

<article id="prenext-posts" class="prev-next articles">
    <div class="row article-row">
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge left-badge text-color">
                <i class="fas fa-chevron-left"></i>&nbsp;上一篇</div>
            <div class="card">
                <a href="/2022/08/31/javaweb-jiu/">
                    <div class="card-image">
                        
                        
                        <img src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/medias/featureimages/0.jpg" class="responsive-img" alt="JavaWeb（旧）">
                        
                        <span class="card-title">JavaWeb（旧）</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                        <span class="publish-date">
                            <i class="far fa-clock fa-fw icon-date"></i>2022-08-31
                        </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/JavaWeb/" class="post-category">
                                    JavaWeb
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/JavaWeb/">
                        <span class="chip bg-color">JavaWeb</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
        
        <div class="article col s12 m6" data-aos="fade-up">
            <div class="article-badge right-badge text-color">
                下一篇&nbsp;<i class="fas fa-chevron-right"></i>
            </div>
            <div class="card">
                <a href="/2022/08/31/react/">
                    <div class="card-image">
                        
                        
                        <img src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/medias/featureimages/15.jpg" class="responsive-img" alt="React">
                        
                        <span class="card-title">React</span>
                    </div>
                </a>
                <div class="card-content article-content">
                    <div class="summary block-with-text">
                        
                            
                        
                    </div>
                    <div class="publish-info">
                            <span class="publish-date">
                                <i class="far fa-clock fa-fw icon-date"></i>2022-08-31
                            </span>
                        <span class="publish-author">
                            
                            <i class="fas fa-bookmark fa-fw icon-category"></i>
                            
                            <a href="/categories/%E5%89%8D%E7%AB%AF%E6%A1%86%E6%9E%B6/" class="post-category">
                                    前端框架
                                </a>
                            
                            
                        </span>
                    </div>
                </div>
                
                <div class="card-action article-tags">
                    
                    <a href="/tags/React/">
                        <span class="chip bg-color">React</span>
                    </a>
                    
                </div>
                
            </div>
        </div>
        
    </div>
</article>

</div>



<!-- 代码块功能依赖 -->
<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/codeBlock/codeBlockFuction.js"></script>


  <!-- 是否加载使用自带的 prismjs. -->
  <script type="text/javascript" src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/prism/prism.min.js"></script>


<!-- 代码语言 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/codeBlock/codeLang.js"></script>


<!-- 代码块复制 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/codeBlock/codeCopy.js"></script>


<!-- 代码块收缩 -->

<script type="text/javascript" src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/codeBlock/codeShrink.js"></script>



    </div>
    <div id="toc-aside" class="expanded col l3 hide-on-med-and-down">
        <div class="toc-widget card" style="background-color: white;">
            <div class="toc-title"><i class="far fa-list-alt"></i>&nbsp;&nbsp;目录</div>
            <div id="toc-content"></div>
        </div>
    </div>
</div>

<!-- TOC 悬浮按钮. -->

<div id="floating-toc-btn" class="hide-on-med-and-down">
    <a class="btn-floating btn-large bg-color">
        <i class="fas fa-list-ul"></i>
    </a>
</div>


<script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/tocbot/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '#articleContent',
            headingsOffset: -($(window).height() * 0.4 - 45),
            collapseDepth: Number('8'),
            headingSelector: 'h1,h2,h3, h4,h5,h6,h7,h8'
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });

        
        /* 修复文章卡片 div 的宽度. */
        let fixPostCardWidth = function (srcId, targetId) {
            let srcDiv = $('#' + srcId);
            if (srcDiv.length === 0) {
                return;
            }

            let w = srcDiv.width();
            if (w >= 450) {
                w = w + 21;
            } else if (w >= 350 && w < 450) {
                w = w + 18;
            } else if (w >= 300 && w < 350) {
                w = w + 16;
            } else {
                w = w + 14;
            }
            $('#' + targetId).width(w);
        };

        // 切换TOC目录展开收缩的相关操作.
        const expandedClass = 'expanded';
        let $tocAside = $('#toc-aside');
        let $mainContent = $('#main-content');
        $('#floating-toc-btn .btn-floating').click(function () {
            if ($tocAside.hasClass(expandedClass)) {
                $tocAside.removeClass(expandedClass).hide();
                $mainContent.removeClass('l9');
            } else {
                $tocAside.addClass(expandedClass).show();
                $mainContent.addClass('l9');
            }
            fixPostCardWidth('artDetail', 'prenext-posts');
        });
        
    });
</script>

    

</main>




    <footer class="page-footer bg-color">
    

    <div class="container row center-align"
         style="margin-bottom: 0px !important;">
        <div class="col s12 m8 l8 copy-right">
            Copyright&nbsp;&copy;
            
                <span id="year">2022-2023</span>
            
            <a href="/about" target="_blank">L ZHEN</a>
            |&nbsp;Powered by&nbsp;<a href="https://hexo.io/" target="_blank">Hexo</a>
            |&nbsp;Theme&nbsp;<a href="https://github.com/blinkfox/hexo-theme-matery" target="_blank">Matery</a>
            <br>
            
                &nbsp;<i class="fas fa-chart-area"></i>&nbsp;站点总字数:&nbsp;<span
                        class="white-color">541.4k</span>
            
            
            
                
            
            
                <span id="busuanzi_container_site_pv">
                &nbsp;|&nbsp;<i class="far fa-eye"></i>&nbsp;总访问量:&nbsp;
                    <span id="busuanzi_value_site_pv" class="white-color"></span>
            </span>
            
            
                <span id="busuanzi_container_site_uv">
                &nbsp;|&nbsp;<i class="fas fa-users"></i>&nbsp;总访问人数:&nbsp;
                    <span id="busuanzi_value_site_uv" class="white-color"></span>
            </span>
            
            <br>

            <!-- 运行天数提醒. -->
            
            <br>
            
        </div>
        <div class="col s12 m4 l4 social-link social-statis">
    <a href="https://github.com/FahaxikiLz" class="tooltipped" target="_blank" data-tooltip="访问我的GitHub" data-position="top" data-delay="50">
        <i class="fab fa-github"></i>
    </a>



    <a href="mailto:1390211724@qq.com" class="tooltipped" target="_blank" data-tooltip="邮件联系我" data-position="top" data-delay="50">
        <i class="fas fa-envelope-open"></i>
    </a>







    <a href="tencent://AddContact/?fromId=50&fromSubId=1&subcmd=all&uin=1390211724" class="tooltipped" target="_blank" data-tooltip="QQ联系我: 1390211724" data-position="top" data-delay="50">
        <i class="fab fa-qq"></i>
    </a>







    <a href="/atom.xml" class="tooltipped" target="_blank" data-tooltip="RSS 订阅" data-position="top" data-delay="50">
        <i class="fas fa-rss"></i>
    </a>

</div>
    </div>
</footer>

<div class="progress-bar"></div>


    <!-- 搜索遮罩框 -->
<div id="searchModal" class="modal">
    <div class="modal-content">
        <div class="search-header">
            <span class="title"><i class="fas fa-search"></i>&nbsp;&nbsp;搜索</span>
            <input type="search" id="searchInput" name="s" placeholder="请输入搜索的关键字"
                   class="search-input">
        </div>
        <div id="searchResult"></div>
    </div>
</div>

<script type="text/javascript">
$(function () {
    var searchFunc = function (path, search_id, content_id) {
        'use strict';
        $.ajax({
            url: path,
            dataType: "xml",
            success: function (xmlResponse) {
                // get the contents from search data
                var datas = $("entry", xmlResponse).map(function () {
                    return {
                        title: $("title", this).text(),
                        content: $("content", this).text(),
                        url: $("url", this).text()
                    };
                }).get();
                var $input = document.getElementById(search_id);
                var $resultContent = document.getElementById(content_id);
                $input.addEventListener('input', function () {
                    var str = '<ul class=\"search-result-list\">';
                    var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                    $resultContent.innerHTML = "";
                    if (this.value.trim().length <= 0) {
                        return;
                    }
                    // perform local searching
                    datas.forEach(function (data) {
                        var isMatch = true;
                        var data_title = data.title.trim().toLowerCase();
                        var data_content = data.content.trim().replace(/<[^>]+>/g, "").toLowerCase();
                        var data_url = data.url;
                        data_url = data_url.indexOf('/') === 0 ? data.url : '/' + data_url;
                        var index_title = -1;
                        var index_content = -1;
                        var first_occur = -1;
                        // only match artiles with not empty titles and contents
                        if (data_title !== '' && data_content !== '') {
                            keywords.forEach(function (keyword, i) {
                                index_title = data_title.indexOf(keyword);
                                index_content = data_content.indexOf(keyword);
                                if (index_title < 0 && index_content < 0) {
                                    isMatch = false;
                                } else {
                                    if (index_content < 0) {
                                        index_content = 0;
                                    }
                                    if (i === 0) {
                                        first_occur = index_content;
                                    }
                                }
                            });
                        }
                        // show search results
                        if (isMatch) {
                            str += "<li><a href='" + data_url + "' class='search-result-title'>" + data_title + "</a>";
                            var content = data.content.trim().replace(/<[^>]+>/g, "");
                            if (first_occur >= 0) {
                                // cut out 100 characters
                                var start = first_occur - 20;
                                var end = first_occur + 80;
                                if (start < 0) {
                                    start = 0;
                                }
                                if (start === 0) {
                                    end = 100;
                                }
                                if (end > content.length) {
                                    end = content.length;
                                }
                                var match_content = content.substr(start, end);
                                // highlight all keywords
                                keywords.forEach(function (keyword) {
                                    var regS = new RegExp(keyword, "gi");
                                    match_content = match_content.replace(regS, "<em class=\"search-keyword\">" + keyword + "</em>");
                                });

                                str += "<p class=\"search-result\">" + match_content + "...</p>"
                            }
                            str += "</li>";
                        }
                    });
                    str += "</ul>";
                    $resultContent.innerHTML = str;
                });
            }
        });
    };

    searchFunc('/search.xml', 'searchInput', 'searchResult');
});
</script>

    <!-- 白天和黑夜主题 -->
<div class="stars-con">
    <div id="stars"></div>
    <div id="stars2"></div>
    <div id="stars3"></div>  
</div>

<script>
    function switchNightMode() {
        $('<div class="Cuteen_DarkSky"><div class="Cuteen_DarkPlanet"></div></div>').appendTo($('body')),
        setTimeout(function () {
            $('body').hasClass('DarkMode') 
            ? ($('body').removeClass('DarkMode'), localStorage.setItem('isDark', '0'), $('#sum-moon-icon').removeClass("fa-sun").addClass('fa-moon')) 
            : ($('body').addClass('DarkMode'), localStorage.setItem('isDark', '1'), $('#sum-moon-icon').addClass("fa-sun").removeClass('fa-moon')),
            
            setTimeout(function () {
            $('.Cuteen_DarkSky').fadeOut(1e3, function () {
                $(this).remove()
            })
            }, 2e3)
        })
    }
</script>

    <!-- 回到顶部按钮 -->
<div id="backTop" class="top-scroll">
    <a class="btn-floating btn-large waves-effect waves-light" href="#!">
        <i class="fas fa-arrow-up"></i>
    </a>
</div>


    <script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/materialize/materialize.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/masonry/masonry.pkgd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/aos/aos.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/scrollprogress/scrollProgress.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/lightGallery/js/lightgallery-all.min.js"></script>
    <script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/js/matery.js"></script>

    

    

    <!-- 雪花特效 -->
    

    <!-- 鼠标星星特效 -->
    

     
        <script src="https://ssl.captcha.qq.com/TCaptcha.js"></script>
        <script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/others/TencentCaptcha.js"></script>
        <button id="TencentCaptcha" data-appid="197482151" data-cbfn="callback" type="button" hidden></button>
    

    <!-- Baidu Analytics -->

    <!-- Baidu Push -->

<script>
    (function () {
        var bp = document.createElement('script');
        var curProtocol = window.location.protocol.split(':')[0];
        if (curProtocol === 'https') {
            bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
        } else {
            bp.src = 'http://push.zhanzhang.baidu.com/push.js';
        }
        var s = document.getElementsByTagName("script")[0];
        s.parentNode.insertBefore(bp, s);
    })();
</script>

    
    
    <script async src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/others/busuanzi.pure.mini.js"></script>
    

    

    

    <!--腾讯兔小巢-->
    
    

    

    

    
    <script src="https://cdn.jsdelivr.net/gh/FahaxikiLz/FahaxikiLz.github.io/libs/instantpage/instantpage.js" type="module"></script>
    

</body>

</html>
